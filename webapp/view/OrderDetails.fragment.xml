<core:FragmentDefinition xmlns="sap.m"
    xmlns:core="sap.ui.core"
    xmlns:l="sap.ui.layout">

    <Dialog id="orderDetailsDialog" contentWidth="1100px" draggable="true" resizable="true" verticalScrolling="true" class="sapUiResponsivePadding--content">

        <!-- ================= HEADER ================= -->
        <customHeader>
            <Toolbar height="4rem">
                <VBox>
                    <Text text="{orderDetails>/orderId} — {orderDetails>/customerName}" class="sapUiBoldText"/>
                    <Text text="{orderDetails>/route} · {orderDetails>/product} · {orderDetails>/bu}" class="sapUiTinyMarginTop"/>
                </VBox>
                <ToolbarSpacer></ToolbarSpacer>
                <ObjectStatus text="Open" state="Success"/>
            </Toolbar>

        </customHeader>

        <!-- ================= CONTENT ================= -->
        <content>
            <VBox class="sapUiSmallMargin">

                <!-- ================= TOP 3 CARDS ================= -->
                <HBox width="100%" justifyContent="Start" wrap="Wrap" class="sapUiSmallMarginBottom">

                    <!-- Order Info -->
                    <VBox class="infoCard sapUiTinyMarginEnd" width="32%">
                        <Title text="Order Info" level="H5"/>

                        <HBox justifyContent="SpaceBetween">
                            <Text text="Order ID:"/>
                            <Text text="{orderDetails>/orderId}" class="sapUiBoldText"/>
                        </HBox>

                        <HBox justifyContent="SpaceBetween">
                            <Text text="Source:"/>
                            <ObjectStatus text="PDF Upload" state="Information"/>
                        </HBox>

                        <HBox justifyContent="SpaceBetween">
                            <Text text="BU:"/>
                            <Text text="SCC"/>
                        </HBox>

                        <HBox justifyContent="SpaceBetween">
                            <Text text="Shipment Type:"/>
                            <Text text="Fuel"/>
                        </HBox>

                        <HBox justifyContent="SpaceBetween">
                            <Text text="Product:"/>
                            <Text text="Fuel"/>
                        </HBox>

                        <HBox justifyContent="SpaceBetween">
                            <Text text="Created:"/>
                            <Text text="{orderDetails>/createdOn}"/>
                        </HBox>

                        <HBox justifyContent="SpaceBetween">
                            <Text text="Created By:"/>
                            <Text text="{orderDetails>/createdBy}"/>
                        </HBox>

                        <HBox justifyContent="SpaceBetween">
                            <Text text="OCR:"/>
                            <Text text="{orderDetails>/ocrConfidence}"/>
                        </HBox>
                    </VBox>

                    <!-- Customers / Ship-To -->
                    <VBox class="infoCard sapUiTinyMarginEnd" width="32%">
                        <Title text="Customers / Ship-To Locations" level="H5"/>

                        <VBox class="sapUiSmallMarginTop">
                            <Text text="1. บริษัท ภีต้า 811 จำกัด" class="sapUiBoldText bluetext"/>

                            <HBox class="sapUiTinyMarginTop">
                                <core:Icon src="sap-icon://pushpin-on" class="sapUiTinyMarginEnd"/>
                                <!-- <Text text="{orderDetails>/shipTo1}"/> -->
                                <Text text=" 171221 • จ.นนทบุรี / ปทุมธานี / อยุธยา • 16K Diesel"/>
                            </HBox>
                        </VBox>

                        <VBox class="sapUiSmallMarginTop">
                            <Text text="2.  หจก. ดุษดีพาณิชย์" class="sapUiBoldText bluetext"/>

                            <HBox class="sapUiTinyMarginTop">
                                <core:Icon src="sap-icon://pushpin-on" class="sapUiTinyMarginEnd"/>
                                <!-- <Text text="{orderDetails>/shipTo2}"/> -->
                                <Text text=" 102212 • จ.ปทุมธานี ต.คูบางหลวง • 3K G95"/>

                            </HBox>
                        </VBox>

                        <HBox justifyContent="SpaceBetween" class="sapUiSmallMarginTop">
                            <Text text="Route:"/>
                            <!-- <Text text="{orderDetails>/route}" class="sapUiBoldText"/> -->
                            <Text text="130H-CUST" class="sapUiBoldText"/>

                        </HBox>

                        <HBox justifyContent="SpaceBetween">
                            <Text text="WBS:"/>
                            <!-- <Text text="{orderDetails>/wbs}"/> -->
                            <Text text="025.AUTO.GEN"/>
                        </HBox>
                    </VBox>

                    <!-- Schedule -->
                    <VBox class="infoCard " width="32%">
                        <Title text="Schedule" level="H5"/>

                        <HBox justifyContent="SpaceBetween">
                            <Text text="Pickup:"/>
                            <Text text="{orderDetails>/pickupDate}"/>
                        </HBox>

                        <HBox justifyContent="SpaceBetween">
                            <Text text="Delivery:"/>
                            <Text text="{orderDetails>/deliveryDate}" class="sapUiBoldText"/>
                        </HBox>

                        <HBox justifyContent="SpaceBetween">
                            <Text text="Weight:"/>
                            <Text text="{orderDetails>/weight}" class="bluetext" />
                        </HBox>
                    </VBox>
                </HBox>

                <!-- ================= SPECIAL INSTRUCTIONS ================= -->
                <VBox class="infoCard sapUiSmallMarginTop">
                    <Title text="Special Instructions" level="H5"/>
                    <!-- <Text text="{orderDetails>/specialInstructions}"/> -->
                    <Text text="Extracted via OCR"></Text>
                </VBox>
                <!-- ================= READY TO CREATE SHIPMENT ================= -->
                <HBox class="readyShipmentBox sapUiSmallMarginTop" justifyContent="SpaceBetween" alignItems="Center">

                    <!-- Left content -->
                    <HBox alignItems="Center">
                        <core:Icon src="sap-icon://shipping-status" size="2rem" class="sapUiSmallMarginEnd"/>

                        <VBox>
                            <Text text="Ready to Create Shipment" class="sapUiBoldText"/>
                            <Text text="This order is approved. Create a shipment to assign driver/vehicle and dispatch." class="sapUiTinyMarginTop"/>
                        </VBox>
                    </HBox>

                    <!-- Action -->
                    <Button text="Create Shipment →" type="Emphasized" press=".onCreateShipment"/>
                </HBox>


            </VBox>
        </content>

        <!-- ================= FOOTER ================= -->
        <buttons>
            <Button text="Close" press=".onCloseOrderDetails"/>
        </buttons>

    </Dialog>
</core:FragmentDefinition>
