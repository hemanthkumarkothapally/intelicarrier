<mvc:View xmlns:unified="sap.ui.unified"
    xmlns:form="sap.ui.layout.form"
    xmlns:vk="sap.ui.vk" controllerName="intellicarrier.controller.Home"
    xmlns="sap.m"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:tnt="sap.tnt"
    xmlns:f="sap.f"
    xmlns:l="sap.ui.layout"
    xmlns:core="sap.ui.core" height="100%">

    <App id="intelliapp">
        <Page showHeader="false" enableScrolling="false" title="IntelliCarrier">
            <content>
                <!-- <f:ShellBar id="shellBar" title="IntelliCarrier" secondTitle="Shipping Execution Platform" homeIcon="sap-icon://shipping-status" showNavButton="true" navButtonPressed=".onMenuButtonPress" showNotifications="true" notificationsNumber="3">
                    <f:profile>
                        <Avatar initials="HC"/>
                    </f:profile>
                </f:ShellBar> -->
                <!-- Shell Bar Header -->
                <tnt:ToolHeader  >
                    <Button class="ButtonColor" icon="sap-icon://nav-back" type="Transparent" press=".onMenuButtonPress">
                        <layoutData>
                            <OverflowToolbarLayoutData priority="NeverOverflow"/>
                        </layoutData>
                    </Button>
                    <Title text="IntelliCarrier" wrapping="false">
                        <layoutData>
                            <OverflowToolbarLayoutData priority="NeverOverflow"/>
                        </layoutData>
                    </Title>
                    <Text text="Shipping Execution Platform">
                        <layoutData>
                            <OverflowToolbarLayoutData priority="Disappear"/>
                        </layoutData>
                    </Text>
                    <ToolbarSpacer ></ToolbarSpacer>
                    <Button class="ButtonColor" icon="sap-icon://bell" type="Transparent" tooltip="Notification" badgeStyle="Default">
                        <customData>
                            <BadgeCustomData key="badge" value="3" />
                        </customData>

                        <layoutData>
                            <OverflowToolbarLayoutData priority="NeverOverflow"/>
                        </layoutData>
                    </Button>
                    <Avatar initials="HC" displaySize="XS" tooltip="Profile">
                        <layoutData>
                            <OverflowToolbarLayoutData priority="NeverOverflow"/>
                        </layoutData>
                    </Avatar>
                </tnt:ToolHeader>

                <!-- Main Container with Side Navigation -->
                <FlexBox height="91%" width="100%">
                    <!-- Side Navigation -->
                    <tnt:SideNavigation id="sideNavigation" selectedKey="dashboard" expanded="true" itemSelect=".onItemSelect">
                        <tnt:NavigationList>
                            <tnt:NavigationListGroup text="Operations" key="Operations">
                            <tnt:NavigationListItem text="Dashboard" icon="sap-icon://home" key="dashboard"/>
                            <tnt:NavigationListItem text="Freight Orders Creation" icon="sap-icon://shipping-status" key="freightOrders" />
                            <tnt:NavigationListItem text="Shipment Execution" icon="sap-icon://create" key="shipmentexecution"/>
                            <tnt:NavigationListItem text="Fleet Overview" icon="sap-icon://create" key="shipmentExecutionViewsub2"/>
                            <tnt:NavigationListItem text="Tracking &amp; Visibility" icon="sap-icon://map" key="tracking"/>
                            <tnt:NavigationListItem text="BOL &amp; Document Management" icon="sap-icon://document" key="bol"/>
                            <tnt:NavigationListItem text="Rate Master" icon="sap-icon://money-bills" key="rateMaster"/>
                            <tnt:NavigationListItem text="Price Determination &amp; Settlement" icon="sap-icon://sales-order" key="priceCalculation"/>
                            <tnt:NavigationListItem text="Tracking &amp; Visibility" icon="sap-icon://locate-me" key="tracking"/>

                            <tnt:NavigationListItem text="Cash Advance &amp; Reimbursement" icon="sap-icon://wallet" key="CashAdvanceandReimbursement"/>
                            
                            </tnt:NavigationListGroup>
                            <tnt:NavigationListGroup text="Reports" key="Reports" expanded="false">
                            <tnt:NavigationListItem text="Fleet Overview" icon="sap-icon://create" key="shipmentExecutionViewsub2"/>
                            <tnt:NavigationListItem text="Operational &amp; Financial Reports" icon="sap-icon://create" key="OperationalandFinancialReports"/>

                            </tnt:NavigationListGroup >
                            <tnt:NavigationListGroup text="Masters" key="Masters" expanded="false">
                            <tnt:NavigationListItem text="Rate Master" icon="sap-icon://home" key="RateMaster"/>
                            <tnt:NavigationListItem text="Reference Data" icon="sap-icon://home" key="ReferenceData"/>

                            </tnt:NavigationListGroup>
                            <tnt:NavigationListItem text="Smart Rate Shopping" icon="sap-icon://sales-quote" key="rateshopping"/>

                        </tnt:NavigationList>

                        <tnt:fixedItem>
                            <tnt:NavigationList>
                                <tnt:NavigationListItem text="Quick Shipment" icon="sap-icon://create" design="Action" selectable="false" press=".onQuickShipment"/>
                                <tnt:NavigationListItem text="Settings" icon="sap-icon://action-settings" selectable="false" press=".onSettings"/>
                            </tnt:NavigationList>
                        </tnt:fixedItem>
                    </tnt:SideNavigation>

                    <!-- Content Area -->
                    <ScrollContainer id="pageContainer" horizontal="false" vertical="true" height="100%" width="100%">
                        <layoutData>
                            <FlexItemData growFactor='1' shrinkFactor='1'/>
                        </layoutData>

                        <!-- Dashboard View (Default) -->
                        <VBox id="dashboardView" visible="true" width="100%" class="intellicarrier-content-padding">
                            <Title text="Dashboard Overview" level="H2" class="sapUiMediumMarginBottom"/>

                            <MessageStrip text="Welcome to IntelliCarrier - Your integrated shipping execution platform" type="Information" showIcon="true" class="sapUiMediumMarginBottom"/>

                            <!-- KPI Tiles -->
                            <FlexBox wrap="Wrap" alignItems="Start">
                                <GenericTile header="Today's Shipments" subheader="Active" class="sapUiSmallMarginEnd sapUiSmallMarginBottom">
                                    <tileContent>
                                        <TileContent>
                                            <content>
                                                <NumericContent value="247" valueColor="Good" indicator="Up" icon="sap-icon://shipping-status"/>
                                            </content>
                                        </TileContent>
                                    </tileContent>
                                </GenericTile>

                                <GenericTile header="Average Rate" subheader="Per Shipment" class="sapUiSmallMarginEnd sapUiSmallMarginBottom">
                                    <tileContent>
                                        <TileContent>
                                            <content>
                                                <NumericContent value="45.30" scale="USD" valueColor="Neutral" icon="sap-icon://money-bills"/>
                                            </content>
                                        </TileContent>
                                    </tileContent>
                                </GenericTile>

                                <GenericTile header="On-Time Delivery" subheader="This Month" class="sapUiSmallMarginEnd sapUiSmallMarginBottom">
                                    <tileContent>
                                        <TileContent>
                                            <content>
                                                <NumericContent value="96.5" scale="%" valueColor="Good" indicator="Up" icon="sap-icon://performance"/>
                                            </content>
                                        </TileContent>
                                    </tileContent>
                                </GenericTile>

                                <GenericTile header="Active Tracking" subheader="In Transit" class="sapUiSmallMarginEnd sapUiSmallMarginBottom">
                                    <tileContent>
                                        <TileContent>
                                            <content>
                                                <NumericContent value="1,842" valueColor="Neutral" icon="sap-icon://locate-me"/>
                                            </content>
                                        </TileContent>
                                    </tileContent>
                                </GenericTile>
                            </FlexBox>

                            <!-- Recent Shipments -->
                            <Title text="Recent Shipments" level="H3" class="sapUiMediumMarginTop sapUiSmallMarginBottom"/>
                            <Table id="recentShipmentsTable" items="{LocalModel>/RecentShipments}" width="100%" autoPopinMode="true">
                                <headerToolbar>
                                    <OverflowToolbar design="Solid">
                                        <ToolbarSpacer ></ToolbarSpacer>
                                        <SearchField liveChange=".onLiveSearch" width="35%" />
                                    </OverflowToolbar>
                                </headerToolbar>
                                <columns >
                                    <Column width="12em" importance="High">
                                        <Text text="Shipment ID"/>
                                    </Column>
                                    <Column importance="Medium">
                                        <Text text="Customer"/>
                                    </Column>
                                    <Column>
                                        <Text text="Destination"/>
                                    </Column>
                                    <Column>
                                        <Text text="Service"/>
                                    </Column>
                                    <Column importance="High">
                                        <Text text="Status"/>
                                    </Column>
                                    <Column>
                                        <Text text="ETA"/>
                                    </Column>
                                </columns>
                                <items>
                                    <ColumnListItem >
                                        <cells>
                                            <ObjectIdentifier title="{LocalModel>ShipmentID}"/>
                                            <Text text="{LocalModel>Customer}"/>
                                            <Text text="{LocalModel>Destination}"/>
                                            <Text text="{LocalModel>Service}"/>
                                            <ObjectStatus text="{LocalModel>Status}" state="{path:'LocalModel>Status',formatter:'.formatStateStatus'}" icon="sap-icon://shipping-status"/>
                                            <Text text="{LocalModel>ETA}"/>
                                        </cells>
                                    </ColumnListItem>
                                </items>
                            </Table>
                        </VBox>

                        <!-- Smart Rate Shopping View -->
                        <VBox id="rateShoppingView" visible="false" width="100%" class="intellicarrier-content-padding">
                            <Title text="Smart Rate Shopping" level="H2" class="sapUiMediumMarginBottom"/>


                            <Panel headerText="Calculate Shipping Rates" expandable="false" class="sapUiMediumMarginBottom " width="100%">
                                <content>
                                    <VBox class="sapUiSmallMargin " width="100%">
                                        <Label text="Origin" required="true" showColon="true" class="sapUiTinyMarginTop"/>
                                        <Input id="originInput" placeholder="Enter origin ZIP code or address" showValueHelp="true" valueHelpRequest=".onOriginValueHelp" width="95%"/>

                                        <Label text="Destination" required="true" showColon="true" class="sapUiTinyMarginTop"/>
                                        <Input id="destinationInput" placeholder="Enter destination ZIP code or address" showValueHelp="true" valueHelpRequest=".onOriginValueHelp" width="95%"/>

                                        <HBox class="sapUiTinyMarginTop intellicarrier-form-row" width="100%">
                                            <VBox class="sapUiSmallMarginEnd intellicarrier-form-field" width="50%">
                                                <Label text="Weight (kg)" required="true" showColon="true"/>
                                                <Input id="weightInput" type="Number" placeholder="0.00" width="100%"/>
                                            </VBox>

                                            <VBox class="intellicarrier-form-field" width="50%">
                                                <Label text="Dimensions (L x W x H cm)" showColon="true"/>
                                                <HBox width="100%" justifyContent="SpaceAround">
                                                    <Input id="lengthInput" type="Number" placeholder="L" width="70%" />
                                                    <Input id="widthInput" type="Number" placeholder="W" width="70%" />
                                                    <Input id="heightInput" type="Number" placeholder="H" width="70%" />
                                                </HBox>
                                            </VBox>
                                        </HBox>

                                        <Label text="Service Level" required="true" showColon="true" class="sapUiTinyMarginTop"/>
                                        <Select id="serviceLevelSelect" width="95%">
                                            <items>
                                                <core:Item key="all" text="Show All Services"/>
                                                <core:Item key="standard" text="Standard (3-5 days)"/>
                                                <core:Item key="express" text="Express (1-2 days)"/>
                                                <core:Item key="overnight" text="Overnight"/>
                                                <core:Item key="sameday" text="Same Day"/>
                                            </items>
                                        </Select>

                                        <HBox class="sapUiMediumMarginTop">
                                            <Button text="Calculate Rates" type="Emphasized" icon="sap-icon://sales-quote" press=".onCalculateRates"/>
                                            <Button text="Clear" class="sapUiTinyMarginBegin" press=".onClearRateForm"/>
                                        </HBox>
                                    </VBox>
                                </content>
                            </Panel>

                            <!-- Rate Results -->
                            <Panel id="rateResultsPanel" headerText="Available Rates" visible="false" width="100%" class="intellicarrier-full-width-panel">
                                <content>
                                    <Table id="ratesTable" mode="SingleSelectMaster" width="100%">
                                        <columns>
                                            <Column>
                                                <Text text="Service Type"/>
                                            </Column>
                                            <Column>
                                                <Text text="Transit Time"/>
                                            </Column>
                                            <Column>
                                                <Text text="Base Rate"/>
                                            </Column>
                                            <Column>
                                                <Text text="Fuel Surcharge"/>
                                            </Column>
                                            <Column>
                                                <Text text="Total Cost"/>
                                            </Column>
                                            <Column>
                                                <Text text="Action"/>
                                            </Column>
                                        </columns>
                                        <items>
                                            <ColumnListItem>
                                                <cells>
                                                    <ObjectIdentifier title="Express Service" text="Guaranteed delivery"/>
                                                    <Text text="1-2 Business Days"/>
                                                    <ObjectNumber number="42.50" unit="USD"/>
                                                    <ObjectNumber number="3.80" unit="USD"/>
                                                    <ObjectNumber number="46.30" unit="USD" state="Warning"/>
                                                    <Button text="Select" type="Accept" press=".onSelectRate"/>
                                                </cells>
                                            </ColumnListItem>
                                        </items>
                                    </Table>
                                </content>
                            </Panel>
                        </VBox>

                        <!-- NEW: Shipment Execution View -->
                        <VBox id="shipmentExecutionView" visible="false" width="100%" class=" sapUiTinyMarginTop">
                            <!-- <SegmentedButton selectedKey="FleetCockpit" selectionChange=".onshipmentExecutionViewselectionChange">
                                <items>
                                    <SegmentedButtonItem key="FleetCockpit" text="ðŸŽ¯ Fleet Cockpit"></SegmentedButtonItem>
                                    <SegmentedButtonItem key="FleetOverview" text="ðŸš› Fleet Overview"></SegmentedButtonItem>
                                </items>
                            </SegmentedButton> -->
                            <VBox id="shipmentExecutionViewsub" visible="true" width="100%" class="intellicarrier-content-padding sapUiMediumMarginBottom">
                                <Title text="Shipment Execution" level="H2" class="sapUiMediumMarginBottom"/>
                                <FlexBox wrap="NoWrap" alignItems="Start" class="sapUiMediumMarginBottom">

                                    <!-- Pending Assignment -->
                                    <GenericTile header="Pending Assignment" wrappingType="Normal" subheader="Awaiting fleet allocation" frameType="TwoByHalf" class="sapUiTinyMarginEnd sapUiSmallMarginBottom" width="10vw">
                                        <tileContent>
                                            <TileContent>
                                                <content>
                                                    <NumericContent value="2" valueColor="Neutral" icon="sap-icon://pending"/>
                                                </content>
                                            </TileContent>
                                        </tileContent>
                                    </GenericTile>

                                    <!-- Internal Fleet -->
                                    <GenericTile header="Internal Fleet" subheader="Own fleet assigned" frameType="TwoByHalf" class="sapUiTinyMarginEnd sapUiSmallMarginBottom" width="10vw">
                                        <tileContent>
                                            <TileContent>
                                                <content>
                                                    <NumericContent value="1" valueColor="Good" icon="sap-icon://shipping-status"/>
                                                </content>
                                            </TileContent>
                                        </tileContent>
                                    </GenericTile>

                                    <!-- External Carrier -->
                                    <GenericTile header="External Carrier" subheader="Carrier assigned" frameType="TwoByHalf" class="sapUiTinyMarginEnd sapUiSmallMarginBottom" width="10vw">
                                        <tileContent>
                                            <TileContent>
                                                <content>
                                                    <NumericContent value="1" valueColor="Good" icon="sap-icon://truck"/>
                                                </content>
                                            </TileContent>
                                        </tileContent>
                                    </GenericTile>

                                    <!-- In Transit -->
                                    <GenericTile header="In Transit" subheader="On the way" frameType="TwoByHalf" class="sapUiTinyMarginEnd sapUiSmallMarginBottom" width="10vw">
                                        <tileContent>
                                            <TileContent>
                                                <content>
                                                    <NumericContent value="1" valueColor="Neutral" icon="sap-icon://journey-arrive"/>
                                                </content>
                                            </TileContent>
                                        </tileContent>
                                    </GenericTile>

                                    <!-- Fleet Available -->
                                    <GenericTile header="Fleet Available" subheader="Vehicles ready" frameType="TwoByHalf" class="sapUiTinyMarginEnd sapUiSmallMarginBottom" width="10vw">
                                        <tileContent>
                                            <TileContent>
                                                <content>
                                                    <NumericContent value="3 / 6" valueColor="Good" icon="sap-icon://fleet"/>
                                                </content>
                                            </TileContent>
                                        </tileContent>
                                    </GenericTile>

                                    <!-- Utilization -->
                                    <GenericTile header="Utilization" subheader="Fleet capacity" frameType="TwoByHalf" class="sapUiTinyMarginEnd sapUiSmallMarginBottom" width="10vw">
                                        <tileContent>
                                            <TileContent>
                                                <content>
                                                    <NumericContent value="67%" valueColor="Critical" icon="sap-icon://bar-chart"/>
                                                </content>
                                            </TileContent>
                                        </tileContent>
                                    </GenericTile>

                                </FlexBox>
                                <IconTabBar id="shipmentTabBar1" expandable="false" headerMode="Inline" selectedKey="PendingAssignment" select=".onFleetCockpitTabSelect">
                                    <items>
                                        <IconTabFilter key="PendingAssignment" text="â³ Pending Assignment" class="shipment-tab-item">
                                        </IconTabFilter>
                                        <IconTabFilter key="Assigned" text="âœ… Assigned" class="shipment-tab-item"/>
                                        <IconTabFilter key="InTransist" text="ðŸšš In Transit" class="shipment-tab-item"/>
                                        <IconTabFilter key="Completed" text="âœ“ Completed" class="shipment-tab-item"/>

                                    </items>
                                </IconTabBar>
                                <!-- Orders Table -->
                                <Table id="ordersTable" items="{/orders}" growing="true" growingScrollToLoad="true">
                                    <headerToolbar>

                                        <!-- Search + Actions -->
                                        <Toolbar>
                                            <Title text="Confirmed Freight Orders - Ready for Fleet Assignment"></Title>
                                            <ToolbarSpacer/>

                                            <SearchField placeholder="Search orders..." liveChange=".onSearchOrders" width="20rem" />
                                            <Button icon="sap-icon://filter"/>
                                            <Button icon="sap-icon://sort"/>
                                            <Button icon="sap-icon://bar-chart"/>
                                        </Toolbar>
                                    </headerToolbar>

                                    <columns>
                                        <Column width="10rem">
                                            <Text text="Order ID"/>
                                        </Column>
                                        <Column>
                                            <Text text="Customer"/>
                                        </Column>
                                        <Column width="9rem">
                                            <Text text="Route"/>
                                        </Column>
                                        <Column>
                                            <Text text="Cargo"/>
                                        </Column>
                                        <Column>
                                            <Text text="Delivery Date"/>
                                        </Column>
                                        <Column>
                                            <Text text="Priority"/>
                                        </Column>
                                        <Column>
                                            <Text text="Status"/>
                                        </Column>
                                        <Column hAlign="Center">
                                            <Text text="Value"/>
                                        </Column>
                                        <Column width="6rem" hAlign="Center">
                                            <Text text="Actions"/>
                                        </Column>
                                    </columns>

                                    <items>
                                        <ColumnListItem>
                                            <cells>

                                                <!-- Order ID -->
                                                <VBox>
                                                    <Title text="{orderId}" class="sapUiBoldText" wrapping="true" />
                                                    <Label text="{coId}" class="sapUiTinyMarginTop sapUiContentLabel" visible="{= ${status} !== 'Completed' }"/>
                                                    <Text text="{sphId}" class="sphId" visible="{= ${status} === 'Completed' }"></Text>
                                                </VBox>

                                                <!-- Customer -->
                                                <Text text="{customer}"/>

                                                <!-- Route -->
                                                <VBox>
                                                    <HBox>
                                                        <Text text="â—" class="routeStart"/>
                                                        <Text text="{from}" class="sapUiTinyMarginBegin"/>
                                                    </HBox>
                                                    <HBox>
                                                        <Text text="â—" class="routeEnd"/>
                                                        <Text text="{to}" class="sapUiTinyMarginBegin"/>
                                                    </HBox>
                                                    <Text text="{distance}" class="sapUiTinyMarginTop"/>
                                                </VBox>

                                                <!-- Cargo -->
                                                <VBox>
                                                    <Text text="{cargoType}"/>
                                                    <Text text="{cargoInfo}" class="sapUiTinyMarginTop"/>
                                                </VBox>

                                                <!-- Delivery Date -->
                                                <Text text="{deliveryDate}"/>

                                                <!-- Priority -->
                                                <GenericTag text="{priority}" status="{priorityState}" design="StatusIconHidden"/>


                                                <GenericTag text="{status}" status="{statusState}" design="StatusIconHidden"></GenericTag>

                                                <!-- Value -->
                                                <Text text="{value}" class="sapUiBoldText PositiveText"/>

                                                <!-- Action -->
                                                <HBox justifyContent="Center">
                                                    <Button text="Track" type="Neutral" tooltip="Track Order" visible="{= ${status} === 'Completed' }" press=".onTrackOrder"/>
                                                    <Button text="Analyze" type="Emphasized" visible="{= ${status} === 'Pending Assignment' }" press=".onAnalyzeOrder"/>
<Button
    text="Print Docs"
    type="Emphasized"
    visible="{= ${status} === 'Internal Fleet' || ${status} === 'External Carrier' }"
    press=".onOpenDocPrintDialog"/>

                                                </HBox>


                                            </cells>
                                        </ColumnListItem>
                                    </items>

                                </Table>
                            </VBox>

                        </VBox>
                        <VBox id="shipmentExecutionViewsub2" visible="false" width="100%" class="intellicarrier-content-padding sapUiMediumMarginBottom">
                            <Title text="Fleet Overview" level="H2" class="sapUiMediumMarginBottom"/>
                            <!-- Total Vehicles -->
                            <FlexBox wrap="NoWrap" alignItems="Start" class="sapUiMediumMarginBottom">
                                <GenericTile header="Total Vehicles" subheader="Owned fleet" frameType="TwoByHalf" class="sapUiTinyMarginEnd sapUiSmallMarginBottom" width="10vw">
                                    <tileContent>
                                        <TileContent>
                                            <content>
                                                <NumericContent value="6" valueColor="Neutral" icon="sap-icon://shipping-status"/>
                                            </content>
                                        </TileContent>
                                    </tileContent>
                                </GenericTile>
                                <!-- Available -->
                                <GenericTile header="Available" subheader="Ready to dispatch" frameType="TwoByHalf" class="sapUiTinyMarginEnd sapUiSmallMarginBottom" width="10vw">
                                    <tileContent>
                                        <TileContent>
                                            <content>
                                                <NumericContent value="3" valueColor="Good" icon="sap-icon://sys-enter-2"/>
                                            </content>
                                        </TileContent>
                                    </tileContent>
                                </GenericTile>
                                <!-- In Use -->
                                <GenericTile header="In Use" subheader="Currently deployed" frameType="TwoByHalf" class="sapUiTinyMarginEnd sapUiSmallMarginBottom" width="10vw">
                                    <tileContent>
                                        <TileContent>
                                            <content>
                                                <NumericContent value="2" valueColor="Critical" icon="sap-icon://shipping-status"/>
                                            </content>
                                        </TileContent>
                                    </tileContent>
                                </GenericTile>
                                <!-- Maintenance -->
                                <GenericTile header="Maintenance" subheader="Under service" frameType="TwoByHalf" class="sapUiTinyMarginEnd sapUiSmallMarginBottom" width="10vw">
                                    <tileContent>
                                        <TileContent>
                                            <content>
                                                <NumericContent value="1" valueColor="Error" icon="sap-icon://wrench"/>
                                            </content>
                                        </TileContent>
                                    </tileContent>
                                </GenericTile>
                                <!-- Active Carriers -->
                                <GenericTile header="Active Carriers" subheader="Partner network" frameType="TwoByHalf" class="sapUiTinyMarginEnd sapUiSmallMarginBottom" width="10vw">
                                    <tileContent>
                                        <TileContent>
                                            <content>
                                                <NumericContent value="5" icon="sap-icon://factory"/>
                                            </content>
                                        </TileContent>
                                    </tileContent>
                                </GenericTile>
                                <!-- Drivers -->
                                <GenericTile header="Drivers" subheader="Total drivers" frameType="TwoByHalf" class="sapUiTinyMarginEnd sapUiSmallMarginBottom" width="10vw">
                                    <tileContent>
                                        <TileContent>
                                            <content>
                                                <NumericContent value="8" valueColor="Neutral" icon="sap-icon://employee"/>
                                            </content>
                                        </TileContent>
                                    </tileContent>
                                </GenericTile>
                            </FlexBox>
                            <IconTabBar id="shipmentTabBar2" expandable="false" headerMode="Inline" selectedKey="PendingAssignment" select=".onFleetCockpitTabSelect">
                                <items>
                                    <IconTabFilter key="InternalFleet" text="ðŸš› Internal Fleet" class="shipment-tab-item">
                                        <Table id="InternalFleetTable" items="{/InternalFleet}" growing="true" growingScrollToLoad="true">
                                            <headerToolbar>
                                                <!-- Search + Actions -->
                                                <Toolbar>
                                                    <Title text="Internal Fleet Vehicles"></Title>
                                                    <ToolbarSpacer/>
                                                    <SearchField placeholder="Search orders..." liveChange=".onSearchOrders" width="20rem" />
                                                    <Select forceSelection="false" selectedKey="All">
                                                        <core:Item key="All" text="All Status" />
                                                        <core:Item key="Maintenance" text="Maintenance" />
                                                        <core:Item key="Available" text="Available" />
                                                        <core:Item key="InUse" text="In Use" />
                                                    </Select>
                                                </Toolbar>
                                            </headerToolbar>
                                            <columns>
                                                <Column>
                                                    <Text text="Vehicle ID"/>
                                                </Column>

                                                <Column>
                                                    <Text text="Vehicle Type"/>
                                                </Column>

                                                <Column>
                                                    <Text text="Status"/>
                                                </Column>

                                                <Column>
                                                    <Text text="Driver"/>
                                                </Column>

                                                <Column>
                                                    <Text text="Current Location"/>
                                                </Column>

                                                <Column>
                                                    <Text text="Capacity"/>
                                                </Column>

                                                <Column hAlign="End">
                                                    <Text text="Daily Rate"/>
                                                </Column>

                                                <Column hAlign="Center">
                                                    <Text text="Actions"/>
                                                </Column>
                                            </columns>

                                            <items>
                                                <ColumnListItem>
                                                    <cells>
                                                        <!-- vehicleID -->
                                                        <VBox>
                                                            <Text text="{vehicleID}" class="sapUiBoldText"/>
                                                        </VBox>

                                                        <!-- vehicleType -->
                                                        <VBox>
                                                            <Text text="{vehicleType}"/>
                                                            <Text text="{subType}" class="sapUiTinyMarginBegin"/>
                                                        </VBox>

                                                        <!-- status -->
                                                        <ObjectStatus text="{status}" state="{statusState}" inverted="true" />

                                                        <!-- Driver -->
                                                        <VBox>
                                                            <Text text="{driver}"/>
                                                            <Text text="{driverPhone}" class="sapUiTinyMarginTop"/>
                                                        </VBox>

                                                        <!-- Current Location -->
                                                        <Text text="{location}"/>

                                                        <!-- Capacity -->
                                                        <VBox>
                                                            <Text text="{capacity}"/>
                                                            <Text text="{metrics}" class="sapUiTinyMarginTop"/>
                                                        </VBox>

                                                        <!-- dailyRate -->
                                                        <Text text="{dailyRate}" class="sapUiBoldText sapUiPositiveText"/>

                                                        <!-- Action -->
                                                        <HBox justifyContent="Center">
                                                            <Button icon="sap-icon://calendar" tooltip="Schedule"/>
                                                            <Button icon="sap-icon://edit" />
                                                        </HBox>
                                                    </cells>
                                                </ColumnListItem>
                                            </items>
                                        </Table>

                                    </IconTabFilter>
                                    <IconTabFilter key="AssiExternalCarriersgned" text="ðŸ¢ External Carriers" class="shipment-tab-item">
                                        <!-- External Carrier Partners -->
                                        <Table id="ExternalCarriersTable" items="{/ExternalCarriers}" growing="true" growingScrollToLoad="true">
                                            <headerToolbar>
                                                <!-- Search + Actions -->
                                                <Toolbar>
                                                    <Title text="External Carrier Partners"></Title>
                                                </Toolbar>
                                            </headerToolbar>
                                            <columns>
                                                <Column>
                                                    <Text text="Carrier"/>
                                                </Column>

                                                <Column>
                                                    <Text text="Rating"/>
                                                </Column>

                                                <Column>
                                                    <Text text="Coverage"/>
                                                </Column>

                                                <Column>
                                                    <Text text="Lead Time"/>
                                                </Column>

                                                <Column hAlign="End">
                                                    <Text text="Base Rate"/>
                                                </Column>

                                                <Column hAlign="End">
                                                    <Text text="Per Km"/>
                                                </Column>

                                                <Column>
                                                    <Text text="Max Capacity"/>
                                                </Column>

                                                <Column>
                                                    <Text text="Tracking"/>
                                                </Column>

                                                <Column hAlign="Center">
                                                    <Text text="Actions"/>
                                                </Column>
                                            </columns>

                                            <items>
                                                <ColumnListItem>
                                                    <cells>
                                                        <ObjectIdentifier title="ðŸ¢ {carrierName}" />

                                                        <HBox alignItems="Center" justifyContent="Center">
                                                            <RatingIndicator value="{ratingValue}" maxValue="5" editable="false" iconSize="12px" />
                                                            <Text text="{ratingValue}" class="sapUiTinyMarginBegin" />
                                                        </HBox>

                                                        <Text text="{coverage}" />

                                                        <Text text="{leadTime}" />

                                                        <Text text="{baseRate}" />

                                                        <Text text="{perKmRate}" />

                                                        <Text text="{capacity}" />

                                                        <ObjectStatus text="{tracking}" state="{trackingState}" icon="sap-icon://accept" />

                                                        <HBox justifyContent="Center">
                                                            <Button icon="sap-icon://document-text" tooltip="View Contract"/>
                                                            <Button icon="sap-icon://edit" tooltip="Edit Carrier"/>
                                                        </HBox>
                                                    </cells>
                                                </ColumnListItem>
                                            </items>
                                        </Table>
                                    </IconTabFilter>
                                    <IconTabFilter key="Drivers" text="ðŸ‘¨â€âœˆï¸ Drivers" class="shipment-tab-item">
                                        <!-- Driver Management -->
                                        <Table items="{/Drivers}" growing="true" growingScrollToLoad="true">
                                            <headerToolbar>
                                                <!-- Search + Actions -->
                                                <Toolbar>
                                                    <Title text="Driver Management"></Title>
                                                </Toolbar>
                                            </headerToolbar>
                                            <columns>
                                                <Column>
                                                    <Text text="Driver ID"/>
                                                </Column>

                                                <Column>
                                                    <Text text="Driver Name"/>
                                                </Column>

                                                <Column>
                                                    <Text text="Contact"/>
                                                </Column>

                                                <Column>
                                                    <Text text="Status"/>
                                                </Column>

                                                <Column>
                                                    <Text text="Assigned Vehicle"/>
                                                </Column>

                                                <Column>
                                                    <Text text="License"/>
                                                </Column>

                                                <Column>
                                                    <Text text="Rating"/>
                                                </Column>

                                                <Column>
                                                    <Text text="Total Trips"/>
                                                </Column>


                                            </columns>

                                            <items>
                                                <ColumnListItem>
                                                    <cells>
                                                        <Text text="{driverId}" />

                                                        <ObjectIdentifier title="{name}"/>

                                                        <Text text="{contact}" />

                                                        <ObjectStatus text="{status}" state="{statusState}" inverted="true" />

                                                        <Text text="{assignedVehicle}" />

                                                        <Text text="{license}" />

                                                        <HBox alignItems="Center">
                                                            <RatingIndicator value="{rating}" maxValue="5" editable="false" iconSize="12px" />
                                                            <Text text="{rating}" class="sapUiTinyMarginBegin" />
                                                        </HBox>

                                                        <Text text="{totalTrips}" />

                                                    </cells>
                                                </ColumnListItem>
                                            </items>
                                        </Table>
                                    </IconTabFilter>
                                    <IconTabFilter key="Maintenance" text="ðŸ”§ Maintenance" class="shipment-tab-item">
                                        <!-- Maintenance Schedule -->
                                        <Table items="{/Maintenance}" growing="true" growingScrollToLoad="true">
                                            <headerToolbar>
                                                <!-- Search + Actions -->
                                                <Toolbar>
                                                    <Title text="Maintenance Schedule"></Title>
                                                </Toolbar>
                                            </headerToolbar>
                                            <columns>
                                                <Column>
                                                    <Text text="Vehicle"/>
                                                </Column>

                                                <Column>
                                                    <Text text="Service Type"/>
                                                </Column>

                                                <Column>
                                                    <Text text="Date"/>
                                                </Column>

                                                <Column>
                                                    <Text text="Duration"/>
                                                </Column>

                                                <Column>
                                                    <Text text="Status"/>
                                                </Column>

                                                <Column>
                                                    <Text text="Service Center"/>
                                                </Column>

                                                <Column hAlign="Center">
                                                    <Text text="Actions"/>
                                                </Column>
                                            </columns>

                                            <items>
                                                <ColumnListItem>
                                                    <cells>
                                                        <ObjectIdentifier title="{vehicleId}" text="{vehicleType}" />

                                                        <Text text="{serviceType}" />

                                                        <Text text="{scheduledDate}" />

                                                        <Text text="{duration}" />

                                                        <ObjectStatus text="{status}" state="{statusState}" inverted="true" />

                                                        <Text text="{serviceCenter}" />

                                                        <HBox justifyContent="Center">
                                                            <Button icon="sap-icon://appointment-2" tooltip="Reschedule" />
                                                        </HBox>
                                                    </cells>
                                                </ColumnListItem>
                                            </items>
                                        </Table>

                                    </IconTabFilter>

                                </items>
                            </IconTabBar>
                        </VBox>
                        <VBox id="shipmentExecutionView1" visible="false" width="100%" class="intellicarrier-content-padding sapUiMediumMarginBottom">
                            <Title text="Shipment Execution &amp; Fleet Management" level="H2" class="sapUiMediumMarginBottom"/>

                            <MessageStrip text="Manage your fleet, book shipments, and execute freight deliveries with real-time vehicle tracking" type="Information" showIcon="true" class="sapUiMediumMarginBottom"/>

                            <!-- Tab Bar for different sections -->
                            <IconTabBar id="shipmentTabBar" expandable="false" headerMode="Inline" selectedKey="fleetoverview" select=".onShipmentTabSelect">
                                <items>
                                    <IconTabFilter key="fleetoverview" text="Fleet Overview" icon="sap-icon://bus-public-transport" class="shipment-tab-item" />
                                    <IconTabFilter key="newshipment" text="Book New Shipment" icon="sap-icon://add" class="shipment-tab-item"/>
                                    <IconTabFilter key="bookedshipments" text="Scheduled Shipments" icon="sap-icon://calendar" class="shipment-tab-item"/>
                                </items>
                            </IconTabBar>

                            <!-- Fleet Overview Tab Content -->
                            <VBox id="fleetOverviewTab" visible="true" width="100%">
                                <!-- Fleet Status Summary -->
                                <Title text="Fleet Status" level="H3" class="sapUiMediumMarginTop sapUiSmallMarginBottom"/>
                                <FlexBox wrap="Wrap" alignItems="Start" class="sapUiMediumMarginBottom">
                                    <GenericTile header="Available Vehicles" subheader="Ready for Dispatch" class="sapUiSmallMarginEnd sapUiSmallMarginBottom">
                                        <tileContent>
                                            <TileContent>
                                                <content>
                                                    <NumericContent value="12" valueColor="Good" icon="sap-icon://shipping-status"/>
                                                </content>
                                            </TileContent>
                                        </tileContent>
                                    </GenericTile>

                                    <GenericTile header="In Transit" subheader="Active Routes" class="sapUiSmallMarginEnd sapUiSmallMarginBottom">
                                        <tileContent>
                                            <TileContent>
                                                <content>
                                                    <NumericContent value="8" valueColor="Neutral" icon="sap-icon://bus-public-transport"/>
                                                </content>
                                            </TileContent>
                                        </tileContent>
                                    </GenericTile>

                                    <GenericTile header="Maintenance" subheader="Under Service" class="sapUiSmallMarginEnd sapUiSmallMarginBottom">
                                        <tileContent>
                                            <TileContent>
                                                <content>
                                                    <NumericContent value="3" valueColor="Error" icon="sap-icon://wrench"/>
                                                </content>
                                            </TileContent>
                                        </tileContent>
                                    </GenericTile>

                                    <GenericTile header="Fuel Efficiency" subheader="Average MPG" class="sapUiSmallMarginEnd sapUiSmallMarginBottom">
                                        <tileContent>
                                            <TileContent>
                                                <content>
                                                    <NumericContent value="7.2" valueColor="Good" icon="sap-icon://energy-saving-lightbulb"/>
                                                </content>
                                            </TileContent>
                                        </tileContent>
                                    </GenericTile>
                                </FlexBox>

                                <!-- Available Fleet Table -->
                                <Panel headerText="Available Fleet" class="intellicarrier-full-width-panel" width="100%">
                                    <content>
                                        <Table id="fleetTable" mode="SingleSelect" items="{/availableFleet}" width="100%">
                                            <headerToolbar>
                                                <Toolbar>
                                                    <content>
                                                        <Title text="Fleet Vehicles" level="H4"/>
                                                        <ToolbarSpacer/>
                                                        <SearchField placeholder="Search vehicles..." width="300px" liveChange=".onSearchFleet"/>
                                                        <Button icon="sap-icon://refresh" tooltip="Refresh Fleet" press=".onRefreshFleet"/>
                                                    </content>
                                                </Toolbar>
                                            </headerToolbar>
                                            <columns>
                                                <Column width="10em">
                                                    <Text text="Vehicle ID"/>
                                                </Column>
                                                <Column>
                                                    <Text text="Type"/>
                                                </Column>
                                                <Column>
                                                    <Text text="Capacity"/>
                                                </Column>
                                                <Column>
                                                    <Text text="Dimensions"/>
                                                </Column>
                                                <Column>
                                                    <Text text="Location"/>
                                                </Column>
                                                <Column>
                                                    <Text text="Driver"/>
                                                </Column>
                                                <Column>
                                                    <Text text="Status"/>
                                                </Column>
                                                <Column width="12em">
                                                    <Text text="Actions"/>
                                                </Column>
                                            </columns>
                                            <items>
                                                <ColumnListItem>
                                                    <cells>
                                                        <ObjectIdentifier title="{id}"/>
                                                        <Text text="{type}"/>
                                                        <Text text="{capacity}"/>
                                                        <Text text="{dimensions}"/>
                                                        <Text text="{location}"/>
                                                        <Text text="{driver}"/>
                                                        <ObjectStatus text="{status}" state="{statusState}" icon="sap-icon://shipping-status"/>
                                                        <Button text="Select" type="Accept" enabled="{= ${status} === 'Available'}" press=".onSelectVehicleForBooking"/>
                                                    </cells>
                                                </ColumnListItem>
                                            </items>
                                        </Table>
                                    </content>
                                </Panel>
                            </VBox>

                            <!-- New Shipment Tab Content -->
                            <VBox id="newShipmentTab" visible="false" width="100%">
                                <Title text="Book New Freight Shipment" level="H3" class="sapUiMediumMarginTop sapUiSmallMarginBottom"/>

                                <Panel headerText="Shipment Details" width="100%" class="intellicarrier-full-width-panel">
                                    <content>
                                        <VBox class="sapUiSmallMargin" width="100%">
                                            <!-- Customer and Route Information -->
                                            <HBox class="sapUiSmallMarginBottom">
                                                <VBox width="50%" class="sapUiSmallMarginEnd">
                                                    <Label text="Customer" required="true"/>
                                                    <Input id="customerInput" placeholder="Enter customer name" width="90%"/>
                                                </VBox>
                                                <VBox width="50%">
                                                    <Label text="Reference Number"/>
                                                    <Input id="referenceInput" placeholder="Enter reference" width="90%"/>
                                                </VBox>
                                            </HBox>

                                            <!-- Origin and Destination -->
                                            <HBox class="sapUiSmallMarginBottom">
                                                <VBox width="50%" class="sapUiSmallMarginEnd">
                                                    <Label text="Origin" required="true"/>
                                                    <Input id="originShipmentInput" placeholder="Pickup location" showValueHelp="true" valueHelpRequest=".onOriginValueHelp" width="90%"/>
                                                </VBox>
                                                <VBox width="50%">
                                                    <Label text="Destination" required="true"/>
                                                    <Input id="destinationShipmentInput" placeholder="Delivery location" showValueHelp="true" valueHelpRequest=".onOriginValueHelp" width="90%"/>
                                                </VBox>
                                            </HBox>

                                            <!-- Cargo Details -->
                                            <HBox class="sapUiSmallMarginBottom">
                                                <VBox width="33%" class="sapUiSmallMarginEnd">
                                                    <Label text="Cargo Type" required="true"/>
                                                    <Select id="cargoTypeSelect" width="90%">
                                                        <items>
                                                            <core:Item key="general" text="General Freight"/>
                                                            <core:Item key="hazmat" text="Hazardous Materials"/>
                                                            <core:Item key="liquid" text="Liquid/Bulk"/>
                                                            <core:Item key="refrigerated" text="Refrigerated"/>
                                                            <core:Item key="oversized" text="Oversized/Heavy"/>
                                                        </items>
                                                    </Select>
                                                </VBox>
                                                <VBox width="33%" class="sapUiSmallMarginEnd">
                                                    <Label text="Weight" required="true"/>
                                                    <Input id="cargoWeightInput" placeholder="Enter weight" width="90%"/>
                                                </VBox>
                                                <VBox width="33%">
                                                    <Label text="Priority Level"/>
                                                    <Select id="prioritySelect" width="90%" selectedKey="standard">
                                                        <items>
                                                            <core:Item key="standard" text="Standard"/>
                                                            <core:Item key="urgent" text="Urgent"/>
                                                            <core:Item key="emergency" text="Emergency"/>
                                                        </items>
                                                    </Select>
                                                </VBox>
                                            </HBox>

                                            <!-- Schedule Details -->
                                            <HBox class="sapUiSmallMarginBottom">
                                                <VBox width="33%" class="sapUiSmallMarginEnd">
                                                    <Label text="Pickup Date" required="true"/>
                                                    <DatePicker id="pickupDatePicker" width="90%"/>
                                                </VBox>
                                                <VBox width="33%" class="sapUiSmallMarginEnd">
                                                    <Label text="Pickup Time"/>
                                                    <TimePicker id="pickupTimePicker" width="90%"/>
                                                </VBox>
                                                <VBox width="33%">
                                                    <Label text="Delivery Date" required="true"/>
                                                    <DatePicker id="deliveryDatePicker" width="90%"/>
                                                </VBox>
                                            </HBox>

                                            <!-- Special Instructions -->
                                            <VBox width="100%" class="sapUiSmallMarginBottom">
                                                <Label text="Special Instructions"/>
                                                <TextArea id="instructionsTextArea" placeholder="Enter any special handling instructions..." width="100%" rows="3"/>
                                            </VBox>
                                        </VBox>
                                    </content>
                                </Panel>

                                <!-- Vehicle Selection Panel -->
                                <Panel headerText="Select Vehicle" width="100%" class="sapUiMediumMarginTop intellicarrier-full-width-panel">
                                    <content>
                                        <VBox class="sapUiSmallMargin" width="100%">
                                            <HBox class="sapUiSmallMarginBottom">
                                                <VBox width="50%" class="sapUiSmallMarginEnd">
                                                    <Label text="Vehicle Type" required="true"/>
                                                    <Select id="vehicleTypeFilter" width="90%" selectedKey="all" change=".onFilterVehicles">
                                                        <items>
                                                            <core:Item key="all" text="All Vehicle Types"/>
                                                            <core:Item key="truck" text="Standard Truck"/>
                                                            <core:Item key="container" text="Container"/>
                                                            <core:Item key="tanker" text="Oil Tanker"/>
                                                            <core:Item key="heavyduty" text="Heavy Duty Truck"/>
                                                        </items>
                                                    </Select>
                                                </VBox>
                                                <VBox width="50%">
                                                    <Label text="Selected Vehicle"/>
                                                    <Text id="selectedVehicleText" text="No vehicle selected" class="sapUiMediumMarginTop"/>
                                                </VBox>
                                            </HBox>

                                            <!-- Available Vehicles for Selection -->
                                            <Table id="vehicleSelectionTable" mode="SingleSelect" items="{/availableFleet}" selectionChange=".onVehicleSelectionChange" width="100%">
                                                <columns>
                                                    <Column width="10em">
                                                        <Text text="Vehicle ID"/>
                                                    </Column>
                                                    <Column>
                                                        <Text text="Type"/>
                                                    </Column>
                                                    <Column>
                                                        <Text text="Capacity"/>
                                                    </Column>
                                                    <Column>
                                                        <Text text="Location"/>
                                                    </Column>
                                                    <Column>
                                                        <Text text="Driver"/>
                                                    </Column>
                                                    <Column>
                                                        <Text text="Status"/>
                                                    </Column>
                                                </columns>
                                                <items>
                                                    <ColumnListItem>
                                                        <cells>
                                                            <ObjectIdentifier title="{id}"/>
                                                            <Text text="{type}"/>
                                                            <Text text="{capacity}"/>
                                                            <Text text="{location}"/>
                                                            <Text text="{driver}"/>
                                                            <ObjectStatus text="{status}" state="{statusState}" icon="sap-icon://shipping-status"/>
                                                        </cells>
                                                    </ColumnListItem>
                                                </items>
                                            </Table>
                                        </VBox>
                                    </content>
                                </Panel>

                                <!-- Action Buttons -->
                                <HBox class="sapUiMediumMarginTop customButtonContainer" justifyContent="Center">
                                    <Button text="Book Now" type="Emphasized" icon="sap-icon://create" class="sapUiLargeMarginEnd" press=".onBookShipment"/>
                                    <Button text="Save as Draft" icon="sap-icon://save" class="sapUiTinyMarginEnd" press=".onSaveShipmentDraft"/>
                                    <Button text="Clear Form" press=".onClearShipmentForm"/>
                                </HBox>
                            </VBox>

                            <!-- Booked Shipments Tab Content -->
                            <VBox id="bookedShipmentsTab" visible="false" width="100%">
                                <Title text="Scheduled Shipments" level="H3" class="sapUiMediumMarginTop sapUiSmallMarginBottom"/>

                                <Panel headerText="Active Bookings" class="intellicarrier-full-width-panel" width="100%">
                                    <content>
                                        <Table id="bookedShipmentsTable" mode="SingleSelect" items="{/bookedShipments}" width="100%">
                                            <headerToolbar>
                                                <Toolbar>
                                                    <content>
                                                        <Title text="Booked Shipments" level="H4"/>
                                                        <ToolbarSpacer/>
                                                        <SearchField placeholder="Search bookings..." width="300px" liveChange=".onSearchBookedShipments"/>
                                                        <Button icon="sap-icon://add" text="New Booking" type="Emphasized" press=".onNewBookingPress"/>
                                                    </content>
                                                </Toolbar>
                                            </headerToolbar>
                                            <columns>
                                                <Column width="12em">
                                                    <Text text="Shipment ID"/>
                                                </Column>
                                                <Column>
                                                    <Text text="Vehicle"/>
                                                </Column>
                                                <Column>
                                                    <Text text="Customer"/>
                                                </Column>
                                                <Column>
                                                    <Text text="Route"/>
                                                </Column>
                                                <Column>
                                                    <Text text="Cargo"/>
                                                </Column>
                                                <Column>
                                                    <Text text="Load Date"/>
                                                </Column>
                                                <Column>
                                                    <Text text="Delivery Date"/>
                                                </Column>
                                                <Column>
                                                    <Text text="Driver"/>
                                                </Column>
                                                <Column>
                                                    <Text text="Status"/>
                                                </Column>
                                                <Column width="12em">
                                                    <Text text="Actions"/>
                                                </Column>
                                            </columns>
                                            <items>
                                                <ColumnListItem>
                                                    <cells>
                                                        <ObjectIdentifier title="{id}"/>
                                                        <Text text="{vehicleId} ({vehicleType})"/>
                                                        <Text text="{customer}"/>
                                                        <Text text="{origin} â†’ {destination}"/>
                                                        <Text text="{cargo}"/>
                                                        <Text text="{loadDate}"/>
                                                        <Text text="{deliveryDate}"/>
                                                        <Text text="{driver}"/>
                                                        <ObjectStatus text="{status}" state="{statusState}" icon="sap-icon://shipping-status"/>
                                                        <HBox>
                                                            <Button icon="sap-icon://edit" tooltip="Edit" press=".onEditBookedShipment"/>
                                                            <Button icon="sap-icon://delete" tooltip="Cancel" class="sapUiTinyMarginBegin" press=".onCancelBookedShipment"/>
                                                        </HBox>
                                                    </cells>
                                                </ColumnListItem>
                                            </items>
                                        </Table>
                                    </content>
                                </Panel>
                            </VBox>
                        </VBox>

                        <!-- Tracking & Visibility View -->
                        <VBox id="trackingView" visible="false" width="100%" class="intellicarrier-content-padding">

                            <!-- Shipments List View (Default) -->
                            <VBox id="shipmentsListView" visible="true" width="100%">
                                <Title text="Tracking &amp; Visibility" level="H2" class="sapUiMediumMarginBottom"/>

                                <!-- Quick Track Panel -->
                                <Panel headerText="Quick Track" class="sapUiMediumMarginBottom intellicarrier-full-width-panel" width="100%">
                                    <content>
                                        <VBox class="sapUiSmallMargin" width="100%">
                                            <HBox alignItems="Center">
                                                <Input id="quickTrackInput" placeholder="Enter tracking number or reference" width="400px"/>
                                                <Button text="Track" type="Emphasized" icon="sap-icon://search" class="sapUiTinyMarginBegin" press=".onQuickTrack"/>
                                            </HBox>
                                        </VBox>
                                    </content>
                                </Panel>

                                <!-- Shipments Status Summary -->
                                <Title text="Shipments Summary" level="H3" class="sapUiSmallMarginBottom"/>
                                <FlexBox wrap="Wrap" alignItems="Start" class="sapUiMediumMarginBottom">
                                    <GenericTile header="In Transit" subheader="Active Shipments" frameType="TwoByHalf" width="13rem" class="sapUiSmallMarginEnd sapUiSmallMarginBottom trackingTile">
                                        <tileContent>
                                            <TileContent>
                                                <content>
                                                    <NumericContent value="24" valueColor="Neutral" icon="sap-icon://shipping-status"/>
                                                </content>
                                            </TileContent>
                                        </tileContent>
                                    </GenericTile>

                                    <GenericTile header="Delivered Today" subheader="Completed" frameType="TwoByHalf" width="13rem" class="sapUiSmallMarginEnd sapUiSmallMarginBottom trackingTile">
                                        <tileContent>
                                            <TileContent>
                                                <content>
                                                    <NumericContent value="18" valueColor="Good" icon="sap-icon://complete"/>
                                                </content>
                                            </TileContent>
                                        </tileContent>
                                    </GenericTile>

                                    <GenericTile header="Exceptions" subheader="Need Attention" frameType="TwoByHalf" width="13rem" class="sapUiSmallMarginEnd sapUiSmallMarginBottom trackingTile">
                                        <tileContent>
                                            <TileContent>
                                                <content>
                                                    <NumericContent value="3" valueColor="Error" icon="sap-icon://warning"/>
                                                </content>
                                            </TileContent>
                                        </tileContent>
                                    </GenericTile>

                                    <GenericTile header="Out for Delivery" subheader="Today" frameType="TwoByHalf" width="13rem" class=" sapUiSmallMarginBottom trackingTile">
                                        <tileContent>
                                            <TileContent>
                                                <content>
                                                    <NumericContent value="12" valueColor="Neutral" icon="sap-icon://employee"/>
                                                </content>
                                            </TileContent>
                                        </tileContent>
                                    </GenericTile>
                                </FlexBox>

                                <!-- Active Shipments Table -->
                                <Panel headerText="All Shipments" class="intellicarrier-full-width-panel" width="100%">
                                    <content>
                                        <Table id="allShipmentsTable" mode="SingleSelect" selectionChange=".onShipmentSelect" width="100%" class="shipmentsTable">
                                            <headerToolbar>
                                                <Toolbar>
                                                    <content>
                                                        <Title text="Shipments" level="H4"/>
                                                        <ToolbarSpacer/>
                                                        <SearchField id="shipmentSearchField" placeholder="Search shipments..." width="300px" liveChange=".onSearchShipments"/>
                                                        <Button icon="sap-icon://refresh" tooltip="Refresh" press=".onRefreshShipments"/>
                                                    </content>
                                                </Toolbar>
                                            </headerToolbar>
                                            <columns>
                                                <Column width="12em">
                                                    <Text text="Tracking #"/>
                                                </Column>
                                                <Column>
                                                    <Text text="Customer"/>
                                                </Column>
                                                <Column>
                                                    <Text text="Origin"/>
                                                </Column>
                                                <Column>
                                                    <Text text="Destination"/>
                                                </Column>
                                                <Column>
                                                    <Text text="Service"/>
                                                </Column>
                                                <Column>
                                                    <Text text="Status"/>
                                                </Column>
                                                <Column>
                                                    <Text text="Last Update"/>
                                                </Column>
                                                <Column>
                                                    <Text text="ETA"/>
                                                </Column>
                                                <Column width="8em">
                                                    <Text text="Actions"/>
                                                </Column>
                                            </columns>
                                            <items>
                                                <ColumnListItem press=".onViewShipmentDetails">
                                                    <cells>
                                                        <Link text="8062225001" press=".onViewShipmentDetails"/>
                                                        <Text text="Global Tech Inc"/>
                                                        <Text text="San Francisco, CA"/>
                                                        <Text text="New York, NY"/>
                                                        <Text text="Express"/>
                                                        <ObjectStatus text="Out for Delivery" state="Warning" icon="sap-icon://employee"/>
                                                        <Text text="Jan 15, 07:00 AM"/>
                                                        <Text text="Jan 15, 5:00 PM"/>
                                                        <Button icon="sap-icon://detail-view" tooltip="View Details" press=".onViewShipmentDetails"/>
                                                    </cells>
                                                </ColumnListItem>
                                                <ColumnListItem press=".onViewShipmentDetails">
                                                    <cells>
                                                        <Link text="8062225002" press=".onViewShipmentDetails"/>
                                                        <Text text="Acme Corporation"/>
                                                        <Text text="Los Angeles, CA"/>
                                                        <Text text="Chicago, IL"/>
                                                        <Text text="Standard"/>
                                                        <ObjectStatus text="In Transit" state="Warning" icon="sap-icon://shipping-status"/>
                                                        <Text text="Jan 14, 11:30 PM"/>
                                                        <Text text="Jan 16, 6:00 PM"/>
                                                        <Button icon="sap-icon://detail-view" tooltip="View Details" press=".onViewShipmentDetails"/>
                                                    </cells>
                                                </ColumnListItem>
                                                <ColumnListItem press=".onViewShipmentDetails">
                                                    <cells>
                                                        <Link text="8062225001" press=".onViewShipmentDetails"/>
                                                        <Text text="Tech Solutions Ltd"/>
                                                        <Text text="Seattle, WA"/>
                                                        <Text text="Miami, FL"/>
                                                        <Text text="Overnight"/>
                                                        <ObjectStatus text="Delivered" state="Success" icon="sap-icon://complete"/>
                                                        <Text text="Jan 15, 10:30 AM"/>
                                                        <Text text="Delivered"/>
                                                        <Button icon="sap-icon://detail-view" tooltip="View Details" press=".onViewShipmentDetails"/>
                                                    </cells>
                                                </ColumnListItem>
                                                <ColumnListItem press=".onViewShipmentDetails">
                                                    <cells>
                                                        <Link text="8062225003" press=".onViewShipmentDetails"/>
                                                        <Text text="Innovation Corp"/>
                                                        <Text text="Boston, MA"/>
                                                        <Text text="Denver, CO"/>
                                                        <Text text="Express"/>
                                                        <ObjectStatus text="Exception" state="Error" icon="sap-icon://warning"/>
                                                        <Text text="Jan 14, 02:15 PM"/>
                                                        <Text text="Delayed"/>
                                                        <Button icon="sap-icon://detail-view" tooltip="View Details" press=".onViewShipmentDetails"/>
                                                    </cells>
                                                </ColumnListItem>
                                            </items>
                                        </Table>
                                    </content>
                                </Panel>
                            </VBox>

                            <!-- Detailed Tracking View -->
                            <VBox id="detailedTrackingView" visible="false" width="100%">

                                <!-- Back Button Header -->
                                <Toolbar class="sapUiMediumMarginBottom trackingHeader">
                                    <content>
                                        <Button icon="sap-icon://nav-back" text="Back to Shipments" press=".onBackToShipmentsList" type="Transparent" class="backButton"/>
                                        <Title text="Shipment Tracking Details" level="H2" class="sapUiMediumMarginBegin"/>
                                        <ToolbarSpacer/>
                                        <Button icon="sap-icon://print" text="Print Report" press=".onPrintTrackingReport" class="sapUiTinyMarginEnd"/>
                                        <Button icon="sap-icon://share-2" text="Share" press=".onShareTracking"/>
                                    </content>
                                </Toolbar>

                                <!-- Tracking Results -->
                                <Panel id="trackingResultPanel" headerText="Shipment Status" visible="true" width="100%" class="intellicarrier-full-width-panel">
                                    <content>
                                        <VBox class="" width="100%">
                                            <!-- Shipment Summary - Compact Layout -->
                                            <VBox class="shipmentSummaryContainer" width="100%">
                                                <!-- Customer Care Button at Top Right -->
                                                <HBox width="100%" justifyContent="End" class="topActionBar">
                                                    <Button text="Customer Care" icon="sap-icon://phone" type="Transparent" class="customerCareButtonFullScreen" press=".onContactCustomer"/>
                                                </HBox>

                                                <!-- Shipment Info Section -->
                                                <HBox width="100%" class="shipmentInfoContainer">
                                                    <VBox class="shipmentInfoSection" width="100%">
                                                        <ObjectHeader title="8062225001" number="46.30" numberUnit="USD" intro="Express Service" titleActive="true" icon="sap-icon://shipping-status" iconDensityAware="false" class="compactObjectHeader">
                                                            <attributes>
                                                                <ObjectAttribute title="Origin" text="San Francisco, CA"/>
                                                                <ObjectAttribute title="Destination" text="New York, NY"/>
                                                                <ObjectAttribute title="Est. Delivery" text="Jan 15, 2026 by 5:00 PM"/>
                                                                <ObjectAttribute title="Weight" text="2.5 kg"/>
                                                            </attributes>
                                                            <statuses>
                                                                <ObjectStatus text="Out for Delivery" state="Warning" icon="sap-icon://employee"/>
                                                            </statuses>
                                                        </ObjectHeader>
                                                    </VBox>
                                                </HBox>
                                            </VBox>

                                            <!-- Horizontal Tracking Timeline -->
                                            <Title text="Tracking History" level="H3" class="sapUiMediumMarginTop sapUiSmallMarginBottom"/>
                                            <Panel class="trackingTimelinePanel" width="100%">
                                                <content>
                                                    <ScrollContainer horizontal="true" vertical="false" height="320px" class="horizontalTrackingContainer">
                                                        <HBox class="trackingTimelineHorizontal" alignItems="Start">

                                                            <!-- Timeline Item 1 - Package Picked Up -->
                                                            <VBox id="myTimelineVBox" class="timelineItem pickup" alignItems="Center">
                                                                <VBox class="timelineIconContainer pickup">
                                                                    <core:Icon src="sap-icon://inventory" size="1.4rem" color="white" class="timelineIconInner"/>
                                                                </VBox>
                                                                <VBox class="timelineContentCard pickup" alignItems="Center">
                                                                    <Text text="Package Picked Up" class="timelineStatusText"/>
                                                                    <Text text="Jan 14, 2026" class="timelineDateText"/>
                                                                    <Text text="09:00 AM" class="timelineTimeText"/>
                                                                    <Text text="San Francisco, CA" class="timelineLocationText"/>
                                                                    <Text text="Package collected from sender" class="timelineNotesText"/>
                                                                </VBox>
                                                            </VBox>

                                                            <!-- Connector Line -->
                                                            <VBox class="timelineConnectorLine pickup"></VBox>

                                                            <!-- Timeline Item 2 - In Transit -->
                                                            <VBox class="timelineItem intransit" alignItems="Center">
                                                                <VBox class="timelineIconContainer intransit">
                                                                    <core:Icon src="sap-icon://shipping-status" size="1.4rem" color="white" class="timelineIconInner"/>
                                                                </VBox>
                                                                <VBox class="timelineContentCard intransit" alignItems="Center">
                                                                    <Text text="Departed Facility" class="timelineStatusText"/>
                                                                    <Text text="Jan 14, 2026" class="timelineDateText"/>
                                                                    <Text text="11:30 AM" class="timelineTimeText"/>
                                                                    <Text text="San Francisco Hub" class="timelineLocationText"/>
                                                                    <Text text="Package in transit to next facility" class="timelineNotesText"/>
                                                                </VBox>
                                                            </VBox>

                                                            <!-- Connector Line -->
                                                            <VBox class="timelineConnectorLine intransit"></VBox>

                                                            <!-- Timeline Item 3 - Hub Processing -->
                                                            <VBox class="timelineItem processing" alignItems="Center">
                                                                <VBox class="timelineIconContainer processing">
                                                                    <core:Icon src="sap-icon://process" size="1.4rem" color="white" class="timelineIconInner"/>
                                                                </VBox>
                                                                <VBox class="timelineContentCard processing" alignItems="Center">
                                                                    <Text text="Hub Processing" class="timelineStatusText"/>
                                                                    <Text text="Jan 14, 2026" class="timelineDateText"/>
                                                                    <Text text="03:45 PM" class="timelineTimeText"/>
                                                                    <Text text="Chicago Sorting Facility" class="timelineLocationText"/>
                                                                    <Text text="Package processed at sorting facility" class="timelineNotesText"/>
                                                                </VBox>
                                                            </VBox>

                                                            <!-- Connector Line -->
                                                            <VBox class="timelineConnectorLine processing"></VBox>

                                                            <!-- Timeline Item 4 - Current Status -->
                                                            <VBox class="timelineItem active" alignItems="Center">
                                                                <VBox class="timelineIconContainer active">
                                                                    <core:Icon src="sap-icon://employee" size="1.4rem" color="white" class="timelineIconInner"/>
                                                                </VBox>
                                                                <VBox class="timelineContentCard active" alignItems="Center">
                                                                    <Text text="Out for Delivery" class="timelineStatusText"/>
                                                                    <Text text="Jan 15, 2026" class="timelineDateText"/>
                                                                    <Text text="07:00 AM" class="timelineTimeText"/>
                                                                    <Text text="New York Hub" class="timelineLocationText"/>
                                                                    <Text text="Package loaded for final delivery" class="timelineNotesText"/>
                                                                </VBox>
                                                            </VBox>

                                                            <!-- Connector Line -->
                                                            <VBox class="timelineConnectorLine pending"></VBox>

                                                            <!-- Timeline Item 5 - Delivered -->
                                                            <VBox class="timelineItem delivered" alignItems="Center">
                                                                <VBox class="timelineIconContainer delivered">
                                                                    <core:Icon src="sap-icon://complete" size="1.4rem" color="white" class="timelineIconInner"/>
                                                                </VBox>
                                                                <VBox class="timelineContentCard delivered" alignItems="Center">
                                                                    <Text text="Delivered" class="timelineStatusText"/>
                                                                    <Text text="Jan 15, 2026" class="timelineDateText"/>
                                                                    <Text text="Expected by 5:00 PM" class="timelineTimeText"/>
                                                                    <Text text="New York, NY" class="timelineLocationText"/>
                                                                    <Text text="Package will be delivered to recipient" class="timelineNotesText"/>
                                                                </VBox>
                                                            </VBox>

                                                        </HBox>
                                                    </ScrollContainer>
                                                </content>
                                            </Panel>

                                            <!-- Live Tracking Map -->
                                            <Title text="Live Tracking Map" level="H3" class="sapUiMediumMarginTop sapUiSmallMarginBottom"/>
                                            <Panel class="trackingMapPanel" width="100%">
                                                <content>
                                                    <VBox class="mapContainer" width="100%">
                                                        <!-- Map Header with Route Info -->
                                                        <HBox justifyContent="SpaceBetween" alignItems="Center" class="mapHeader">
                                                            <VBox>
                                                                <Text text="San Francisco, CA â†’ New York, NY" class="routeTitle"/>
                                                                <Text text="Total Distance: 2,906 miles | Estimated Time: 4-5 days" class="routeInfo"/>
                                                            </VBox>
                                                            <HBox alignItems="Center">
                                                                <core:Icon src="sap-icon://map-2" size="1.5rem" color="#0ea5e9" class="sapUiTinyMarginEnd"/>
                                                                <Button text="Full Screen" icon="sap-icon://full-screen" type="Transparent" class="mapButton"/>
                                                            </HBox>
                                                        </HBox>

                                                        <!-- Map Display Area -->
                                                        <VBox class="mapDisplayArea" alignItems="Center" justifyContent="Center">
                                                            <!-- Map Placeholder with Route Visualization -->
                                                            <VBox class="mapPlaceholder" alignItems="Center" justifyContent="Center">
                                                                <HBox class="routeVisualization" alignItems="Center" justifyContent="SpaceBetween">

                                                                    <!-- Origin Point -->
                                                                    <VBox class="mapLocation origin" alignItems="Center">
                                                                        <VBox class="locationDot origin">
                                                                            <core:Icon src="sap-icon://home" size="1rem" color="white"/>
                                                                        </VBox>
                                                                        <Text text="San Francisco" class="locationName"/>
                                                                        <Text text="Origin" class="locationLabel"/>
                                                                    </VBox>

                                                                    <!-- Route Line with Progress -->
                                                                    <VBox class="routeLine">
                                                                        <HBox class="progressLine">
                                                                            <VBox class="lineCompleted"></VBox>
                                                                            <VBox class="lineRemaining"></VBox>
                                                                        </HBox>

                                                                        <!-- Current Position -->
                                                                        <VBox class="currentPosition">
                                                                            <core:Icon src="sap-icon://shipping-status" size="1.2rem" color="#f59e0b" class="movingTruck"/>
                                                                            <Text text="Chicago, IL" class="currentLocationText"/>
                                                                        </VBox>
                                                                    </VBox>

                                                                    <!-- Destination Point -->
                                                                    <VBox class="mapLocation destination" alignItems="Center">
                                                                        <VBox class="locationDot destination">
                                                                            <core:Icon src="sap-icon://target-group" size="1rem" color="white"/>
                                                                        </VBox>
                                                                        <Text text="New York" class="locationName"/>
                                                                        <Text text="Destination" class="locationLabel"/>
                                                                    </VBox>

                                                                </HBox>

                                                                <!-- Map Features Info -->
                                                                <HBox justifyContent="SpaceAround" class="mapFeatures">
                                                                    <VBox alignItems="Center" class="mapFeature">
                                                                        <core:Icon src="sap-icon://radar-chart" size="1rem" color="#22c55e"/>
                                                                        <Text text="GPS Tracking" class="featureText"/>
                                                                    </VBox>
                                                                    <VBox alignItems="Center" class="mapFeature">
                                                                        <core:Icon src="sap-icon://weather-proofing" size="1rem" color="#3b82f6"/>
                                                                        <Text text="Weather Updates" class="featureText"/>
                                                                    </VBox>
                                                                    <VBox alignItems="Center" class="mapFeature">
                                                                        <core:Icon src="sap-icon://quality-issue" size="1rem" color="#f59e0b"/>
                                                                        <Text text="Traffic Alerts" class="featureText"/>
                                                                    </VBox>
                                                                    <VBox alignItems="Center" class="mapFeature">
                                                                        <core:Icon src="sap-icon://time-overtime" size="1rem" color="#8b5cf6"/>
                                                                        <Text text="ETA Updates" class="featureText"/>
                                                                    </VBox>
                                                                </HBox>

                                                                <!-- Integration Note -->
                                                                <MessageStrip text="Interactive map with real-time GPS tracking will be integrated here using Google Maps API or similar mapping service" type="Information" showIcon="true" class="mapIntegrationNote"/>
                                                            </VBox>
                                                        </VBox>
                                                    </VBox>
                                                </content>
                                            </Panel>
                                        </VBox>
                                    </content>
                                </Panel>
                            </VBox>
                        </VBox>

                        <VBox id="bolView" visible="false" width="100%" class="intellicarrier-content-padding">
                         <core:Fragment fragmentName="intellicarrier.view.BOLManagement" type="XML"/>
                        </VBox>

                        <VBox id="rateMasterView" visible="false" width="100%" class="intellicarrier-content-padding">
                            <core:Fragment fragmentName="intellicarrier.view.RateMaster" type="XML"/>
                        </VBox>

                        <VBox id="priceCalculationView" visible="false" width="100%" class="intellicarrier-content-padding">
                             <core:Fragment fragmentName="intellicarrier.view.PriceSettlement" type="XML"/>
                             
                        </VBox>

                        

                        <VBox id="freightOrdersView" visible="false" width="100%" class="intellicarrier-content-padding">
                            <!-- Header Section -->
                            <HBox justifyContent="SpaceBetween" alignItems="Center" class="sapUiMediumMarginBottom">
                                <Title text="Freight Order Management" level="H2"/>
                                <HBox>
                                    <unified:FileUploader buttonOnly="true" buttonText="Upload PDF" fileType="pdf"></unified:FileUploader>
                                    <!-- <Button icon="sap-icon://upload" text="Upload PDF" press=".onUploadFreight" class="sapUiTinyMarginEnd"/> -->
                                    <Button icon="sap-icon://edit" class="sapUiSmallMarginBegin" text="Create Manual Freight Order " press=".onManualEntryFreight"/>
                                </HBox>
                            </HBox>

                            <MessageStrip text="Manage customer orders from PDF upload, Email BOT, and manual entry" type="Information" showIcon="true" class="sapUiMediumMarginBottom"/>

                            <FlexBox wrap="Wrap" columnGap="0px">

                                <!-- Total Orders -->
                                <GenericTile class=" sapUiSmallMarginBottom" frameType="TwoByHalf" width="8rem" header="Total Orders" subheader="All sources" press=".onCardPressFreight">
                                    <TileContent>
                                        <NumericContent value="{orders>/summary/total}" valueColor="Neutral" withMargin="false"/>
                                    </TileContent>
                                </GenericTile>

                                <!-- Pending Review -->
                                <GenericTile class=" sapUiSmallMarginBottom" frameType="TwoByHalf" width="8rem" header="Pending Review" subheader="Needs attention" press=".onCardPressFreight">
                                    <TileContent>
                                        <NumericContent value="{orders>/summary/pendingReview}" icon="sap-icon://pending" valueColor="Critical" withMargin="false"/>
                                    </TileContent>
                                </GenericTile>

                                <!-- Reviewed -->
                                <GenericTile class=" sapUiSmallMarginBottom" visible="false" frameType="TwoByHalf" width="8rem" header="Reviewed" subheader="Ready to submit" press=".onCardPressFreight">
                                    <TileContent>
                                        <NumericContent value="{orders>/summary/reviewed}" icon="sap-icon://accept" valueColor="Good" withMargin="false"/>
                                    </TileContent>
                                </GenericTile>

                                <!-- Submitted -->
                                <GenericTile class=" sapUiSmallMarginBottom" frameType="TwoByHalf" width="8rem" header="Submitted" subheader="Awaiting approval" press=".onCardPressFreight">
                                    <TileContent>
                                        <NumericContent value="{orders>/summary/submitted}" icon="sap-icon://upload-to-cloud" valueColor="Neutral" withMargin="false"/>
                                    </TileContent>
                                </GenericTile>

                                <!-- Approved -->
                                <GenericTile class=" sapUiSmallMarginBottom" frameType="TwoByHalf" width="8rem" header="Approved" subheader="Ready to confirm" press=".onCardPressFreight">
                                    <TileContent>
                                        <NumericContent value="{orders>/summary/approved}" icon="sap-icon://sys-enter-2" valueColor="Good" withMargin="false"/>
                                    </TileContent>
                                </GenericTile>

                                <!-- Revision -->
                                <GenericTile class=" sapUiSmallMarginBottom" frameType="TwoByHalf" width="8rem" header="Revision" subheader="Needs update" press=".onCardPressFreight">
                                    <TileContent>
                                        <NumericContent value="{orders>/summary/revision}" icon="sap-icon://refresh" valueColor="Critical" withMargin="false"/>
                                    </TileContent>
                                </GenericTile>

                                <!-- Rejected -->
                                <GenericTile class="sapUiTinyMarginEnd sapUiSmallMarginBottom" frameType="TwoByHalf" width="8rem" header="Rejected" subheader="Cannot process" press=".onCardPressFreight">
                                    <TileContent>
                                        <NumericContent value="0" icon="sap-icon://decline" valueColor="Error" withMargin="false"/>
                                    </TileContent>
                                </GenericTile>

                                <!-- Confirmed -->
                                <GenericTile class="sapUiSmallMarginBottom" visible="false" frameType="TwoByHalf" width="8rem" header="Confirmed" subheader="Fleet assigned" press=".onCardPressFreight">
                                    <TileContent>
                                        <NumericContent value="{orders>/summary/confirmed}" icon="sap-icon://shipping-status" valueColor="Good" withMargin="false"/>
                                    </TileContent>
                                </GenericTile>

                            </FlexBox>

                            <Panel>
                                <headerToolbar>
                                    <OverflowToolbar>
                                        <Title text="All Customer Orders" level="H3"/>
                                        <Text text="({orders>/ordersList/length} items)" class="sapUiTinyMarginBegin"/>
                                        <ToolbarSpacer/>
                                        <SearchField width="300px" placeholder="Search orders..." liveChange=".onSearchFreight"/>
                                        <Button icon="sap-icon://filter" text="Filter" press=".onFilterFreight"/>
                                    </OverflowToolbar>
                                </headerToolbar>

                                <content>
                                    <Table id="freightOrdersTable" items="{orders>/ordersList}" mode="None" width="100%" fixedLayout="false">
                                        <columns>
                                            <Column width="10%" hAlign="Begin">
                                                <Text text="Order ID"/>
                                            </Column>
                                            <Column width="10%" hAlign="Begin">
                                                <Text text="Source"/>
                                            </Column>
                                            <Column width="15%" hAlign="Begin">
                                                <Text text="Customer"/>
                                            </Column>
                                            <Column width="20%" hAlign="Begin">
                                                <Text text="Delivery Address"/>
                                            </Column>
                                            <Column width="10%" hAlign="Begin">
                                                <Text text="Products"/>
                                            </Column>
                                            <Column width="10%" hAlign="Begin">
                                                <Text text="Delivery Date"/>
                                            </Column>
                                            <Column width="10%" hAlign="End">
                                                <Text text="Value"/>
                                            </Column>
                                            <Column width="12%" hAlign="Begin">
                                                <Text text="Status"/>
                                            </Column>
                                            <Column width="15%" hAlign="Begin">
                                                <Text text="Actions"/>
                                            </Column>
                                        </columns>
                                        <items>
                                            <ColumnListItem>
                                                <cells>
                                                    <!-- Order ID with OCR -->
                                                    <VBox>
                                                        <Link text="{orders>orderId}" press=".onViewDetailsFreight"/>
                                                        <Link text="FO-2026-0006" visible="{= ${orders>statusText} === 'Approved' }" />
                                                    </VBox>

                                                    <!-- Source -->
                                                    <HBox alignItems="Center">
                                                        <core:Icon src="{orders>sourceIcon}" size="1.2rem" class="sapUiTinyMarginEnd"/>
                                                        <VBox>
                                                            <Text text="{orders>sourceText}"/>
                                                        </VBox>
                                                    </HBox>

                                                    <!-- Customer -->
                                                    <VBox>
                                                        <Text text="{orders>customerName}"/>
                                                        <Text text="{orders>customerEmail}" class="sapUiTinyText"/>
                                                    </VBox>

                                                    <!-- Delivery Address -->
                                                    <Text text="{orders>deliveryAddress}" wrapping="true"/>

                                                    <!-- Products -->
                                                    <VBox>
                                                        <Text text="{orders>productsCount}"/>
                                                        <Text text="{orders>weight}" class="sapUiTinyText"/>
                                                    </VBox>

                                                    <!-- Delivery Date -->
                                                    <Text text="{orders>deliveryDate}"/>

                                                    <!-- Value -->
                                                    <Text text="{orders>value}"/>

                                                    <!-- Status -->
                                                    <HBox>
                                                        <core:Icon src="{orders>statusIcon}" size="1rem" class="sapUiTinyMarginEnd"/>
                                                        <VBox>
                                                            <ObjectStatus text="{orders>statusText}" state="{orders>statusState}"/>
                                                        </VBox>
                                                    </HBox>

                                                    <!-- Actions -->
                                                    <HBox>
                                                        <Button text="{orders>actionButtonText}" type="{orders>actionButtonType}" press=".onActionPressFreight" class="sapUiTinyMarginEnd"/>
                                                        <!-- <Button text="View" type="Transparent" press=".onViewDetailsFreight"/> -->

                                                    
                                                    </HBox>
                                                </cells>
                                            </ColumnListItem>
                                        </items>
                                    </Table>
                                </content>
                            </Panel>
                        </VBox>
                        <VBox id="CashAdvanceandReimbursement" visible="false" width="100%" class="intellicarrier-content-padding">
                            <!-- Header Section -->
                            <HBox justifyContent="SpaceBetween" alignItems="Center" class="sapUiMediumMarginBottom">
                                <Title text="Cash Advance &amp; Reimbursement Management" level="H2"/>
                                <HBox>
                                    <Button icon="sap-icon://upload" text="New Advance Request" press=".onOpenNewAdvanceDialog" class="sapUiTinyMarginEnd"/>
                                    <!-- <Button icon="sap-icon://edit" text="Create Freight Order " press=".onManualEntryFreight"/> -->
                                </HBox>
                            </HBox>
                            <FlexBox wrap="Wrap" columnGap="0px">

                                <!-- Pending Approval -->
                                <GenericTile class="sapUiSmallMarginBottom" frameType="TwoByHalf" width="10rem" header="Pending Approval" subheader="Advance requests" press=".onCardPressFreight">
                                    <TileContent>
                                        <NumericContent value="5" withMargin="false"/>
                                    </TileContent>
                                </GenericTile>

                                <!-- Active Advances -->
                                <GenericTile class="sapUiSmallMarginBottom" frameType="TwoByHalf" width="10rem" header="Active Advances" subheader="Disbursed &amp; tracking" press=".onCardPressFreight">
                                    <TileContent>
                                        <NumericContent value="12" withMargin="false"/>
                                    </TileContent>
                                </GenericTile>

                                <!-- Total Outstanding -->
                                <GenericTile class="sapUiSmallMarginBottom" frameType="TwoByHalf" width="10rem" header="Total Outstanding" subheader="Advance balance" press=".onCardPressFreight">
                                    <TileContent>
                                        <NumericContent value="à¸¿124,500" withMargin="false"/>
                                    </TileContent>
                                </GenericTile>

                                <!-- Ready to Reconcile -->
                                <GenericTile class="sapUiSmallMarginBottom" frameType="TwoByHalf" width="10rem" header="Ready to Reconcile" subheader="Pending settlement" press=".onCardPressFreight">
                                    <TileContent>
                                        <NumericContent value="8" withMargin="false"/>
                                    </TileContent>
                                </GenericTile>

                                <!-- Settled This Month -->
                                <GenericTile class="sapUiSmallMarginBottom" frameType="TwoByHalf" width="10rem" header="Settled This Month" subheader="Completed" press=".onCardPressFreight">
                                    <TileContent>
                                        <NumericContent value="23" withMargin="false"/>
                                    </TileContent>
                                </GenericTile>

                                <!-- Policy Violations -->
                                <GenericTile class="sapUiSmallMarginBottom" frameType="TwoByHalf" width="10rem" header="Policy Violations" subheader="Review needed" press=".onCardPressFreight">
                                    <TileContent>
                                        <NumericContent value="3" withMargin="false"/>
                                    </TileContent>
                                </GenericTile>

                            </FlexBox>
                            <IconTabBar id="shipmentTabBar4" expandable="false" headerMode="Inline" selectedKey="PendingAssignment" select=".onAdvanceTabSelect">
                                <items>
                                    <IconTabFilter key="AdvanceRequests" text="ðŸ’µ Advance Requests" class="shipment-tab-item">
                                        <Table id="cashAdvanceTable" items="{/cashAdvanceRequests}" growing="true" growingScrollToLoad="true">

                                            <!-- Header -->
                                            <headerToolbar>
                                                <Toolbar>
                                                    <Title text="Cash Advance Requests"/>
                                                    <ToolbarSpacer/>
                                                    <SearchField placeholder="Search requests..." liveChange=".onSearchCashAdvance" width="18rem"/>
                                                    <Select>
                                                        <items>
                                                            <core:Item key="ALL" text="All Status"/>
                                                            <core:Item key="Pending" text="Pending"/>
                                                            <core:Item key="Disbursed" text="Disbursed"/>
                                                        </items>
                                                    </Select>
                                                    <Button icon="sap-icon://bar-chart"/>
                                                </Toolbar>
                                            </headerToolbar>

                                            <!-- Columns -->
                                            <columns>
                                                <Column width="9rem">
                                                    <Text text="Request ID"/>
                                                </Column>
                                                <Column>
                                                    <Text text="Driver"/>
                                                </Column>
                                                <Column hAlign="End">
                                                    <Text text="Amount"/>
                                                </Column>
                                                <Column>
                                                    <Text text="Purpose"/>
                                                </Column>
                                                <Column width="9rem">
                                                    <Text text="Request Date"/>
                                                </Column>
                                                <Column>
                                                    <Text text="Status"/>
                                                </Column>
                                                <Column>
                                                    <Text text="Disbursement"/>
                                                </Column>
                                                <Column width="7rem" hAlign="Center">
                                                    <Text text="Actions"/>
                                                </Column>
                                            </columns>

                                            <!-- Items -->
                                            <items>
                                                <ColumnListItem>
                                                    <cells>

                                                        <!-- Request ID -->
                                                        <Title text="{requestId}" class="sapUiBoldText"/>

                                                        <!-- Driver -->
                                                        <VBox>
                                                            <Text text="{driver}"/>
                                                            <Text text="{driverId}" class="sapUiContentLabel"/>
                                                        </VBox>

                                                        <!-- Amount -->
                                                        <Text text="{amount}" class="sapUiBoldText"/>

                                                        <!-- Purpose -->
                                                        <Text text="{purpose}"/>

                                                        <!-- Request Date -->
                                                        <Text text="{requestDate}"/>

                                                        <!-- Status -->
                                                        <GenericTag text="{status}" design="StatusIconHidden" status="{statusState}"/>

                                                        <!-- Disbursement -->
                                                        <Text text="{disbursement}"/>

                                                        <!-- Actions -->
                                                        <HBox justifyContent="Center">
                                                            <Button text="Review" type="Accept" visible="{= ${status} === 'Pending' }" press=".onReviewRequest"/>
                                                            <Button text="View" type="Transparent" visible="{= ${status} === 'Disbursed' }" press=".onViewRequest"/>
                                                        </HBox>

                                                    </cells>
                                                </ColumnListItem>
                                            </items>
                                        </Table>

                                    </IconTabFilter>
                                    <IconTabFilter key="ActiveAdvances" text="ðŸ“Š Active Advances" class="shipment-tab-item">
                                        <Table id="activeAdvanceTable" items="{/activeAdvances}" growing="true" growingScrollToLoad="true">

                                            <!-- Header -->
                                            <headerToolbar>
                                                <Toolbar>
                                                    <Title text="Active Advance Tracking"/>
                                                </Toolbar>
                                            </headerToolbar>

                                            <!-- Columns -->
                                            <columns>
                                                <Column width="9rem">
                                                    <Text text="Advance ID"/>
                                                </Column>
                                                <Column>
                                                    <Text text="Driver"/>
                                                </Column>
                                                <Column hAlign="End">
                                                    <Text text="Advance"/>
                                                </Column>
                                                <Column hAlign="End">
                                                    <Text text="Expenses"/>
                                                </Column>
                                                <Column hAlign="End">
                                                    <Text text="Remaining"/>
                                                </Column>
                                                <Column width="10rem">
                                                    <Text text="Usage"/>
                                                </Column>
                                                <Column width="5rem">
                                                    <Text text="Days"/>
                                                </Column>
                                                <Column width="8rem">
                                                    <Text text="Status"/>
                                                </Column>
                                                <Column width="8rem" hAlign="Center">
                                                    <Text text="Actions"/>
                                                </Column>
                                            </columns>

                                            <!-- Items -->
                                            <items>
                                                <ColumnListItem>
                                                    <cells>

                                                        <!-- Advance ID -->
                                                        <Title text="{advanceId}" class="sapUiBoldText"/>

                                                        <!-- Driver -->
                                                        <VBox>
                                                            <Text text="{driver}"/>
                                                            <Text text="{driverId}" class="sapUiContentLabel"/>
                                                        </VBox>

                                                        <!-- Advance -->
                                                        <Text text="{advance}" class="sapUiBoldText"/>

                                                        <!-- Expenses -->
                                                        <Text text="{expenses}" class="sapUiBoldText sapUiCriticalText"/>

                                                        <!-- Remaining -->
                                                        <Text text="{remaining}" class="sapUiBoldText" wrapping="false"/>

                                                        <!-- Usage -->
                                                        <HBox alignItems="Center">
                                                            <ProgressIndicator percentValue="{usagePercent}" displayValue="{usagePercent}%" width="6rem" state="{usageState}"/>
                                                        </HBox>

                                                        <!-- Days -->
                                                        <Text text="{days}"/>

                                                        <!-- Status -->
                                                        <GenericTag text="{status}" design="StatusIconHidden" status="{statusState}"/>

                                                        <!-- Actions -->
                                                        <HBox justifyContent="Center">
                                                            <Button icon="sap-icon://show" type="Transparent" tooltip="View"/>
                                                            <Button icon="sap-icon://money-bills" type="Emphasized" visible="{= ${status} !== 'Active' }" tooltip="Settle"/>
                                                        </HBox>

                                                    </cells>
                                                </ColumnListItem>
                                            </items>

                                        </Table>

                                    </IconTabFilter>
                                    <IconTabFilter key="ExpenseTracking" text="ðŸ“ Expense Tracking" class="shipment-tab-item">
                                        <Panel>
                                            <headerToolbar>
                                                <OverflowToolbar >
                                                    <Title text="Upload Expencse Receipts" />
                                                    <ToolbarSpacer ></ToolbarSpacer>
                                                    <Button type="Emphasized" text="Scan Receipt(OCR)"></Button>
                                                </OverflowToolbar>
                                            </headerToolbar>
                                            <HBox>

                                            </HBox>
                                        </Panel>
                                        <Table id="expenseOcrTable" items="{/expenseSubmissions}" growing="true" growingScrollToLoad="true">

                                            <!-- Header -->
                                            <headerToolbar>
                                                <Toolbar>
                                                    <Title text="Expense Submissions with OCR"/>
                                                    <ToolbarSpacer/>
                                                    <SearchField placeholder="Search expenses..." liveChange=".onSearchExpenses" width="18rem"/>
                                                    <Select>
                                                        <items>
                                                            <core:Item key="ALL" text="All Categories"/>
                                                            <core:Item key="Fuel" text="Fuel"/>
                                                            <core:Item key="Toll" text="Toll"/>
                                                            <core:Item key="Meal" text="Meal"/>
                                                            <core:Item key="Parking" text="Parking"/>
                                                        </items>
                                                    </Select>
                                                </Toolbar>
                                            </headerToolbar>

                                            <!-- Columns -->
                                            <columns>
                                                <Column width="8rem">
                                                    <Text text="Expense ID"/>
                                                </Column>
                                                <Column>
                                                    <Text text="Driver"/>
                                                </Column>
                                                <Column width="9rem">
                                                    <Text text="Category"/>
                                                </Column>
                                                <Column>
                                                    <Text text="Vendor"/>
                                                </Column>
                                                <Column hAlign="End">
                                                    <Text text="Amount"/>
                                                </Column>
                                                <Column width="9rem">
                                                    <Text text="Date"/>
                                                </Column>
                                                <Column width="8rem">
                                                    <Text text="OCR Status"/>
                                                </Column>
                                                <Column width="9rem">
                                                    <Text text="Validation"/>
                                                </Column>
                                                <Column width="7rem" hAlign="Center">
                                                    <Text text="Actions"/>
                                                </Column>
                                            </columns>

                                            <!-- Items -->
                                            <items>
                                                <ColumnListItem>
                                                    <cells>

                                                        <!-- Expense ID -->
                                                        <Text text="{expenseId}" class="sapUiBoldText"/>

                                                        <!-- Driver -->
                                                        <VBox>
                                                            <Text text="{driver}"/>
                                                            <Text text="{driverId}" class="sapUiContentLabel"/>
                                                        </VBox>

                                                        <!-- Category -->
                                                        <HBox>
                                                            <core:Icon src="{categoryIcon}" class="sapUiTinyMarginEnd"/>
                                                            <Text text="{category}"/>
                                                        </HBox>

                                                        <!-- Vendor -->
                                                        <Text text="{vendor}"/>

                                                        <!-- Amount -->
                                                        <Text text="{amount}" class="sapUiBoldText"/>

                                                        <!-- Date -->
                                                        <Text text="{date}"/>

                                                        <!-- OCR Status -->
                                                        <GenericTag text="{ocrStatus}" design="StatusIconHidden" status="{ocrState}"/>

                                                        <!-- Validation -->
                                                        <GenericTag text="{validationStatus}" design="StatusIconHidden" status="{validationState}"/>

                                                        <!-- Actions -->
                                                        <HBox justifyContent="Center">
                                                            <Button icon="sap-icon://show" type="Transparent" tooltip="View Receipt" press=".onViewExpense"/>
                                                        </HBox>

                                                    </cells>
                                                </ColumnListItem>
                                            </items>

                                        </Table>

                                    </IconTabFilter>
                                    <IconTabFilter key="Reconciliation" text="âš–ï¸ Reconciliation" class="shipment-tab-item">
                                        <Panel headerText="Settlement Summary - ADV-2026-0245" width="100%">
                                            <VBox width="85%">
                                                <HBox justifyContent="SpaceBetween">
                                                    <Label text="Advance Approved"></Label>
                                                    <Text text="10000"/>
                                                </HBox>
                                                <HBox justifyContent="SpaceBetween">
                                                    <Label text="Total Expenses Submitted" />
                                                    <Text text="8,700" />
                                                </HBox>
                                                <HBox justifyContent="SpaceBetween">
                                                    <Label text="Policy Voilations" />
                                                    <Text text="0" />
                                                </HBox>
                                                <ToolbarSeparator ></ToolbarSeparator>
                                                <HBox justifyContent="SpaceBetween">
                                                    <Title text="Net Settlement Amount" />
                                                    <Text text="18,700" />
                                                </HBox>
                                            </VBox>
                                            <HBox justifyContent="SpaceBetween" class="sapUiSmallMarginTop" width="98%">
                                                <VBox >
                                                    <Label text="SETTLEMENT TYPE" />
                                                    <GenericTag text="Refund to Company" status="Success"></GenericTag>
                                                </VBox>
                                                <VBox >
                                                    <Label text="SETTLEMENT METHOD" />
                                                    <Text text="Payroll Deduction"></Text>
                                                </VBox>
                                                <VBox >
                                                    <Label text="STATUS" />
                                                    <GenericTag text="Pending Approval" status="Warning"></GenericTag>
                                                </VBox>
                                            </HBox>
                                        </Panel>
                                        <Table id="reconciliationQueueTable" items="{/reconciliationQueue}" growing="true" growingScrollToLoad="true">

                                            <!-- Header -->
                                            <headerToolbar>
                                                <Toolbar>
                                                    <Title text="Reconciliation Queue"/>
                                                    <ToolbarSpacer/>
                                                    <Button text="Auto-Reconcile" icon="sap-icon://synchronize" type="Emphasized" press=".onAutoReconcile"/>
                                                </Toolbar>
                                            </headerToolbar>

                                            <!-- Columns -->
                                            <columns>
                                                <Column width="8rem">
                                                    <Text text="Advance ID"/>
                                                </Column>
                                                <Column>
                                                    <Text text="Driver"/>
                                                </Column>
                                                <Column hAlign="End">
                                                    <Text text="Advance"/>
                                                </Column>
                                                <Column hAlign="End">
                                                    <Text text="Expenses"/>
                                                </Column>
                                                <Column hAlign="End">
                                                    <Text text="Balance"/>
                                                </Column>
                                                <Column width="10rem">
                                                    <Text text="Settlement Type"/>
                                                </Column>
                                                <Column width="8rem">
                                                    <Text text="Issues"/>
                                                </Column>
                                                <Column width="9rem" hAlign="Center">
                                                    <Text text="Actions"/>
                                                </Column>
                                            </columns>

                                            <!-- Items -->
                                            <items>
                                                <ColumnListItem>
                                                    <cells>

                                                        <!-- Advance ID -->
                                                        <Text text="{advanceId}" class="sapUiBoldText"/>

                                                        <!-- Driver -->
                                                        <VBox>
                                                            <Text text="{driver}"/>
                                                            <Text text="{driverId}" class="sapUiContentLabel"/>
                                                        </VBox>

                                                        <!-- Advance -->
                                                        <Text text="{advance}" class="sapUiBoldText"/>

                                                        <!-- Expenses -->
                                                        <Text text="{expenses}" class="sapUiBoldText sapUiCriticalText"/>

                                                        <!-- Balance -->
                                                        <Text text="{balance}" class="sapUiBoldText"/>

                                                        <!-- Settlement Type -->
                                                        <GenericTag text="{settlementType}" design="StatusIconHidden" status="{settlementState}"/>

                                                        <!-- Issues -->
                                                        <GenericTag text="{issues}" design="StatusIconHidden" status="{issuesState}"/>

                                                        <!-- Actions -->
                                                        <HBox justifyContent="Center">
                                                            <Button text="Reconcile" icon="sap-icon://balance" type="Emphasized" press=".onReconcile"/>
                                                        </HBox>

                                                    </cells>
                                                </ColumnListItem>
                                            </items>

                                        </Table>

                                    </IconTabFilter>
                                    <IconTabFilter key="SettlementHistory" text="âœ… Settlement History" class="shipment-tab-item">
                                        <Table id="completedSettlementsTable" items="{/completedSettlements}" growing="true" growingScrollToLoad="true">

                                            <!-- Header -->
                                            <headerToolbar>
                                                <Toolbar>
                                                    <Title text="Completed Settlements"/>
                                                </Toolbar>
                                            </headerToolbar>

                                            <!-- Columns -->
                                            <columns>
                                                <Column width="8rem">
                                                    <Text text="Settlement ID"/>
                                                </Column>
                                                <Column>
                                                    <Text text="Driver"/>
                                                </Column>
                                                <Column hAlign="End">
                                                    <Text text="Advance"/>
                                                </Column>
                                                <Column hAlign="End">
                                                    <Text text="Expenses"/>
                                                </Column>
                                                <Column hAlign="End">
                                                    <Text text="Settlement"/>
                                                </Column>
                                                <Column width="9rem">
                                                    <Text text="Type"/>
                                                </Column>
                                                <Column width="9rem">
                                                    <Text text="Date"/>
                                                </Column>
                                                <Column width="8rem">
                                                    <Text text="SAP Doc"/>
                                                </Column>
                                                <Column width="6rem" hAlign="Center">
                                                    <Text text="Actions"/>
                                                </Column>
                                            </columns>

                                            <!-- Items -->
                                            <items>
                                                <ColumnListItem>
                                                    <cells>

                                                        <!-- Settlement ID -->
                                                        <Text text="{settlementId}" class="sapUiBoldText"/>

                                                        <!-- Driver -->
                                                        <Text text="{driver}"/>

                                                        <!-- Advance -->
                                                        <Text text="{advance}" class="sapUiBoldText"/>

                                                        <!-- Expenses -->
                                                        <Text text="{expenses}" class="sapUiBoldText"/>

                                                        <!-- Settlement -->
                                                        <Text text="{settlement}" class="sapUiBoldText"/>

                                                        <!-- Type -->
                                                        <GenericTag text="{type}" design="StatusIconHidden" status="{typeState}"/>

                                                        <!-- Date -->
                                                        <Text text="{date}"/>

                                                        <!-- SAP Doc -->
                                                        <Link text="{sapDoc}" press=".onOpenSapDoc"/>

                                                        <!-- Actions -->
                                                        <HBox justifyContent="Center">
                                                            <Button icon="sap-icon://show" type="Transparent" tooltip="View Settlement" press=".onViewSettlement"/>
                                                        </HBox>

                                                    </cells>
                                                </ColumnListItem>
                                            </items>

                                        </Table>

                                    </IconTabFilter>

                                </items>
                            </IconTabBar>
                        </VBox>
                        <!-- Detailed Tracking View -->
                        <VBox width="100%" id ="vehicleChecklist" visible="false">

                            <HBox justifyContent="SpaceBetween" alignItems="Center" class="sapUiSmallMarginButtom">
                                <Title text="Vehicle Checklist Maintenance" level="H2"/>
                                <HBox>
                                    <Button text="Export" icon="sap-icon://download" class="sapUiTinyMarginEnd"/>
                                    <Button text="Refresh" icon="sap-icon://refresh" type="Emphasized" class="sapUiTinyMarginEnd"/>
                                </HBox>
                            </HBox>

                            <IconTabBar class="sapUiMediumMarginTop">
                                <items>
                                    <!-- CHECKLIST TAB -->
                                    <IconTabFilter id="Checklists" text="Checklists">

                                        <FlexBox wrap="Wrap">

                                            <GenericTile frameType="TwoByHalf" width="10rem" header="SCHEDULED" class="sapUiSmallMarginEnd">

                                                <TileContent>
                                                    <NumericContent value="{vehicleDataModel>/kpi/scheduled}" valueColor="Good"/>
                                                </TileContent>
                                            </GenericTile>

                                            <GenericTile frameType="TwoByHalf" width="10rem" header="IN PROGRESS" class="sapUiSmallMarginEnd">

                                                <TileContent>
                                                    <NumericContent value="{vehicleDataModel>/kpi/inProgress}" valueColor="Critical"/>
                                                </TileContent>
                                            </GenericTile>

                                            <GenericTile frameType="TwoByHalf" width="10rem" header="COMPLETED" class="sapUiSmallMarginEnd">

                                                <TileContent>
                                                    <NumericContent value="{vehicleDataModel>/kpi/completed}" valueColor="Good"/>
                                                </TileContent>
                                            </GenericTile>

                                            <GenericTile frameType="TwoByHalf" width="10rem" header="OVERDUE">

                                                <TileContent>
                                                    <NumericContent value="{vehicleDataModel>/kpi/overdue}" valueColor="Error"/>
                                                </TileContent>
                                            </GenericTile>

                                        </FlexBox>

                                        <Panel >
                                            <headerToolbar>
                                                <OverflowToolbar>
                                                    <Title text="All Customer Orders" level="H3"/>
                                                    <Text text="({vehicleDataModel>/checklists/length} items)" class="sapUiTinyMarginBegin"/>
                                                    <ToolbarSpacer/>
                                                    <SearchField width="300px" placeholder="Search checklists..." />
                                                    <!-- <Button icon="sap-icon://filter" text="Filter" press=".onFilterFreight"/> -->
                                                </OverflowToolbar>
                                            </headerToolbar>

                                            <content>
                                                <Table items="{vehicleDataModel>/checklists}" growing="true" mode="SingleSelectMaster">

                                                    <columns>
                                                        <Column>
                                                            <Text text="Date"/>
                                                        </Column>
                                                        <Column>
                                                            <Text text="Shipment"/>
                                                        </Column>
                                                        <Column>
                                                            <Text text="Driver"/>
                                                        </Column>
                                                        <Column>
                                                            <Text text="Vehicle"/>
                                                        </Column>
                                                        <Column>
                                                            <Text text="Score"/>
                                                        </Column>
                                                        <Column>
                                                            <Text text="Status"/>
                                                        </Column>
                                                        <Column>
                                                            <Text text="Actions"/>
                                                        </Column>
                                                    </columns>

                                                    <items>
                                                        <ColumnListItem>
                                                            <cells>

                                                                <VBox>
                                                                    <Text text="{vehicleDataModel>submissionDate}"/>
                                                                    <Text text="{vehicleDataModel>submissionTime}" class="sapUiTinyText"/>
                                                                </VBox>

                                                                <ObjectIdentifier title="{vehicleDataModel>shipmentId}"/>

                                                                <VBox>
                                                                    <Text text="{vehicleDataModel>driverName}"/>
                                                                    <Text text="{vehicleDataModel>driverId}" class="sapUiTinyText"/>
                                                                </VBox>

                                                                <VBox>
                                                                    <Text text="{vehicleDataModel>vehicleNumber}"/>
                                                                    <Text text="{vehicleDataModel>vehicleType}" class="sapUiTinyText"/>
                                                                </VBox>

                                                                <ProgressIndicator percentValue="{vehicleDataModel>checkPercentage}" state="{vehicleDataModel>checkState}" width="80px"/>

                                                                <ObjectStatus text="{vehicleDataModel>status}" state="{vehicleDataModel>statusState}"/>

                                                                <HBox>
                                                                    <Button icon="sap-icon://show" type="Transparent" press=".onViewMaintenance"/>
                                                                    <Button icon="sap-icon://accept" type="Accept" visible="{= ${vehicleDataModel>status} === 'Pending' }" class="sapUiTinyMarginEnd"/>
                                                                    <Button icon="sap-icon://decline" type="Reject" visible="{= ${vehicleDataModel>status} === 'Pending' }"/>
                                                                </HBox>

                                                            </cells>
                                                        </ColumnListItem>
                                                    </items>
                                                </Table>
                                            </content>
                                        </Panel >
                                    </IconTabFilter>

                                    <!-- MAINTENANCE TAB -->
                                    <IconTabFilter id="Maintenance" text="Maintenance">
                                        <HBox justifyContent="SpaceBetween" alignItems="Center" class="sapUiSmallMarginEnd">
                                            <VBox>
                                                <Title text="Maintenance" level="H3"/>

                                            </VBox>
                                            <Button text="Create New Maintenance" type="Emphasized" press="onCreateMaintenance" class="sapUiTinyMarginEnd"/>
                                        </HBox>
                                        <FlexBox wrap="Wrap">

                                            <GenericTile frameType="TwoByHalf" width="10rem" header="SCHEDULED" subheader="Upcoming maintenance" class="sapUiSmallMarginEnd">

                                                <TileContent>
                                                    <NumericContent value="{vehicleDataModel>/kpi/scheduled}" valueColor="Good"/>
                                                </TileContent>
                                            </GenericTile>

                                            <GenericTile frameType="TwoByHalf" width="10rem" header="IN PROGRESS" subheader="Currently in service" class="sapUiSmallMarginEnd">

                                                <TileContent>
                                                    <NumericContent value="{vehicleDataModel>/kpi/inProgress}" valueColor="Critical"/>
                                                </TileContent>
                                            </GenericTile>

                                            <GenericTile frameType="TwoByHalf" width="10rem" header="COMPLETED" subheader="This year" class="sapUiSmallMarginEnd">

                                                <TileContent>
                                                    <NumericContent value="{vehicleDataModel>/kpi/completed}" valueColor="Good"/>
                                                </TileContent>
                                            </GenericTile>

                                            <GenericTile frameType="TwoByHalf" width="10rem" header="OVERDUE" subheader="Requires attention">

                                                <TileContent>
                                                    <NumericContent value="{vehicleDataModel>/kpi/overdue}" valueColor="Error"/>
                                                </TileContent>
                                            </GenericTile>

                                        </FlexBox>


                                        <Panel >
                                            <headerToolbar>
                                                <OverflowToolbar>
                                                    <Title text="All maintenance" level="H3"/>
                                                    <Text text="({vehicleDataModel>/maintenance/length} items)" class="sapUiTinyMarginBegin"/>
                                                    <ToolbarSpacer/>
                                                    <SearchField width="300px" placeholder="Search checklists..." />
                                                    <!-- <Button icon="sap-icon://filter" text="Filter" press=".onFilterFreight"/> -->
                                                </OverflowToolbar>
                                            </headerToolbar>

                                            <content>
                                                <Table items="{vehicleDataModel>/maintenance}" growing="true">

                                                    <columns>
                                                        <Column>
                                                            <Text text="Work Order"/>
                                                        </Column>
                                                        <Column>
                                                            <Text text="Vehicle"/>
                                                        </Column>
                                                        <Column>
                                                            <Text text="Type"/>
                                                        </Column>
                                                        <Column>
                                                            <Text text="Priority"/>
                                                        </Column>
                                                        <Column>
                                                            <Text text="Cost"/>
                                                        </Column>
                                                        <Column>
                                                            <Text text="Status"/>
                                                        </Column>
                                                    </columns>

                                                    <items>
                                                        <ColumnListItem type="{= ${vehicleDataModel>maintStatus} === 'Overdue' ? 'Active' : 'Inactive' }">

                                                            <cells>
                                                                <ObjectIdentifier title="{vehicleDataModel>workOrderId}"/>

                                                                <VBox>
                                                                    <Text text="{vehicleDataModel>vehicleNumber}"/>
                                                                    <Text text="{vehicleDataModel>vehicleType}" class="sapUiTinyText"/>
                                                                </VBox>

                                                                <ObjectStatus text="{vehicleDataModel>maintType}" state="{vehicleDataModel>maintTypeState}"/>

                                                                <ObjectStatus text="{vehicleDataModel>priority}" state="{vehicleDataModel>priorityState}"/>

                                                                <ObjectNumber number="{vehicleDataModel>cost}" unit="THB"/>

                                                                <ObjectStatus text="{vehicleDataModel>maintStatus}" state="{vehicleDataModel>maintStatusState}"/>
                                                            </cells>
                                                        </ColumnListItem>
                                                    </items>
                                                </Table>
                                            </content>
                                        </Panel>
                                    </IconTabFilter>
                                    <IconTabFilter text="Templates" key="templates">
                                        <VBox width="100%">

                                            <!-- Header -->
                                            <HBox justifyContent="SpaceBetween" alignItems="Center" class="sapUiSmallMarginEnd">
                                                <VBox>
                                                    <Title text="Checklist Templates" level="H3"/>
                                                    <Text text="Manage pre-trip inspection templates for different vehicle types"/>
                                                </VBox>
                                                <Button text="Create New Template" type="Emphasized" icon="sap-icon://add" press="onCreateTemplate" class="sapUiSmallMarginEnd"/>
                                            </HBox>

                                            <!-- Tiles Container -->
                                            <FlexBox wrap="Wrap" justifyContent="Start">

                                                <!-- LPG Tanker -->
                                                <GenericTile header="LPG Tanker Checklist" subheader="CHK-LPG-001" frameType="TwoByOne" press="onViewTemplate" class="sapUiSmallMargin">

                                                    <TileContent>
                                                        <NumericContent value="25" valueColor="Good" scale="Items"/>
                                                    </TileContent>

                                                    <TileContent>
                                                        <NumericContent value="5" scale="Categories"/>
                                                    </TileContent>

                                                    <TileContent>
                                                        <NumericContent value="142" scale="Uses"/>
                                                    </TileContent>
                                                </GenericTile>

                                                <!-- Fuel Tanker -->
                                                <GenericTile header="Fuel Tanker Checklist" subheader="CHK-FUEL-001" frameType="TwoByOne" press="onViewTemplate" class="sapUiSmallMargin">

                                                    <TileContent>
                                                        <NumericContent value="25" scale="Items"/>
                                                    </TileContent>

                                                    <TileContent>
                                                        <NumericContent value="5" scale="Categories"/>
                                                    </TileContent>

                                                    <TileContent>
                                                        <NumericContent value="89" scale="Uses"/>
                                                    </TileContent>
                                                </GenericTile>

                                                <!-- NGV Trailer -->
                                                <GenericTile header="NGV Trailer Checklist" subheader="CHK-NGV-001" frameType="TwoByOne" press="onViewTemplate" class="sapUiSmallMargin">

                                                    <TileContent>
                                                        <NumericContent value="26" scale="Items"/>
                                                    </TileContent>

                                                    <TileContent>
                                                        <NumericContent value="5" scale="Categories"/>
                                                    </TileContent>

                                                    <TileContent>
                                                        <NumericContent value="45" scale="Uses"/>
                                                    </TileContent>

                                                </GenericTile>

                                                <!-- Create New Template -->
                                                <GenericTile header="Create New Template" frameType="TwoByOne" press="onCreateTemplate" class="sapUiSmallMargin">

                                                    <TileContent>
                                                        <VBox justifyContent="Center" alignItems="Center" height="100%">

                                                            <core:Icon src="sap-icon://add" size="2.5rem" class="createIcon"/>

                                                            <Text text="Create New Template" class="sapUiSmallMarginTop"/>
                                                        </VBox>
                                                    </TileContent>
                                                </GenericTile>

                                            </FlexBox>

                                        </VBox>

                                    </IconTabFilter>


                                </items>
                            </IconTabBar>
                        </VBox>
                    </ScrollContainer>
                </FlexBox>
            </content>
        </Page>
    </App>
</mvc:View>